{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/MarkManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/MarkManage.vue","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NrZy9hMjAyMmRvd25sb2FkL1x1NUI2Nlx1NEU2MFx1NTI0RFx1N0FFRi9leGFtX3N5c3RlbS1tYXN0ZXIvZXhhbS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGV4YW0gZnJvbSAnQC9hcGkvZXhhbSc7CmltcG9ydCB1c2VyIGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hcmtNYW5hZ2UnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeUluZm86IHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIC8v6ICD6K+V6K6w5b2VCiAgICAgIGV4YW1SZWNvcmRzOiBbXSwKICAgICAgLy/ooajmoLzmlbDmja7liqDovb0KICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy/miYDmnInogIPor5Xkv6Hmga8KICAgICAgYWxsRXhhbUluZm86IFtdLAogICAgICAvL+aAu+aVsAogICAgICB0b3RhbDogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEV4YW1SZWNvcmRzKCk7CiAgICB0aGlzLmdldEFsbEV4YW1JbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRFeGFtUmVjb3JkczogZnVuY3Rpb24gZ2V0RXhhbVJlY29yZHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGV4YW0uZ2V0RXhhbVJlY29yZChfdGhpcy5xdWVyeUluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0QWxsRXhhbUluZm8oKTsKCiAgICAgICAgICAgICAgICAgICAgcmVzcC5kYXRhLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgdXNlci5nZXRVc2VyQnlJZChpdGVtLnVzZXJJZCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRydWVOYW1lID0gci5kYXRhLnRydWVOYW1lOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXhhbVJlY29yZHMgPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QWxsRXhhbUluZm86IGZ1bmN0aW9uIGdldEFsbEV4YW1JbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGV4YW0uYWxsRXhhbUluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIuYWxsRXhhbUluZm8gPSByZXNwLmRhdGE7CgogICAgICAgICAgX3RoaXMyLnNldEV4YW1OYW1lKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvcGVyYXRpb246IGZ1bmN0aW9uIG9wZXJhdGlvbih2KSB7CiAgICAgIGlmICh2ID09PSAnJykgdGhpcy5xdWVyeUluZm8uZXhhbUlkID0gbnVsbDsKICAgICAgdGhpcy5nZXRFeGFtUmVjb3JkcygpOwogICAgfSwKICAgIHNldEV4YW1OYW1lOiBmdW5jdGlvbiBzZXRFeGFtTmFtZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmV4YW1SZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczMuYWxsRXhhbUluZm8uZm9yRWFjaChmdW5jdGlvbiAoaTIpIHsKICAgICAgICAgIGlmIChpdGVtLmV4YW1JZCA9PT0gaTIuZXhhbUlkKSB7CiAgICAgICAgICAgIF90aGlzMy4kc2V0KGl0ZW0sICdleGFtTmFtZScsIGkyLmV4YW1OYW1lKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy/liIbpobXpobXpnaLlpKflsI/mlLnlj5gKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmdldEV4YW1SZWNvcmRzKCk7CiAgICB9LAogICAgLy/liIbpobXmj5Lku7bnmoTpobXmlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VObyA9IHZhbDsKICAgICAgdGhpcy5nZXRFeGFtUmVjb3JkcygpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AAEA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,iBADA;AAEAC;AAFA,OADA;AAKA;AACAC,qBANA;AAOA;AACAC,mBARA;AASA;AACAC,qBAVA;AAWA;AACAC;AAZA;AAcA,GAjBA;AAkBAC,SAlBA,qBAkBA;AACA;AACA;AACA,GArBA;AAsBAC;AACAC,kBADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAC;AACA;AACA;;AACAC;AACAC;AACAC;AACA,uBAFA;AAGA,qBAJA;AAKA;AACA;AACA;AACA;AACA,iBAZA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,KAfA;AAgBAC,kBAhBA,4BAgBA;AAAA;;AACAJ;AACA;AACA;;AACA;AACA;AACA,OALA;AAMA,KAvBA;AAwBAK,aAxBA,qBAwBAC,CAxBA,EAwBA;AACA;AACA;AACA,KA3BA;AA4BAC,eA5BA,yBA4BA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OANA;AAOA,KApCA;AAqCA;AACAC,oBAtCA,4BAsCAC,GAtCA,EAsCA;AACA;AACA;AACA,KAzCA;AA0CA;AACAC,uBA3CA,+BA2CAD,GA3CA,EA2CA;AACA;AACA;AACA;AA9CA;AAtBA","names":["name","data","queryInfo","pageNo","pageSize","examRecords","loading","allExamInfo","total","created","methods","getExamRecords","exam","resp","user","item","getAllExamInfo","operation","v","setExamName","handleSizeChange","val","handleCurrentChange"],"sourceRoot":"src/views/teacher","sources":["MarkManage.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header>\n      <!--操作的下拉框-->\n      <el-select @change=\"operation\" clearable v-model=\"queryInfo.examId\"\n                 placeholder=\"请选择考试\" style=\"margin-bottom: 25px;\">\n        <el-option v-for=\"(item,index) in allExamInfo\" :key=\"index\" :label=\"item.examName\"\n                   :value=\"parseInt(item.examId)\">\n          <span style=\"float: left\">{{ item.examName }}</span>\n        </el-option>\n      </el-select>\n\n    </el-header>\n\n    <el-main>\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"examRecords\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;\">\n\n        <el-table-column align=\"center\" prop=\"examName\" label=\"考试名称\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"examTime\" label=\"参考时间\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"trueName\" label=\"参考人\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"logicScore\" label=\"逻辑题得分\"></el-table-column>\n\n        <el-table-column align=\"center\" label=\"是否批阅\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.totalScore === null ? '未批阅' : '已批阅' }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"总分\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.totalScore === null ? 0 : scope.row.totalScore }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button :type=\"scope.row.totalScore === null ? 'primary' : 'warning'\" icon=\"el-icon-view\" size=\"small\"\n                       :disabled=\"scope.row.totalScore !== null\"\n                       @click=\"$router.push('/markExam/' + scope.row.recordId)\">\n              {{ scope.row.totalScore === null ? '批阅' : '已批阅' }}\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport exam from '@/api/exam'\nimport user from '@/api/user'\n\nexport default {\n  name: 'MarkManage',\n  data () {\n    return {\n      queryInfo: {\n        pageNo: 1,\n        pageSize: 10\n      },\n      //考试记录\n      examRecords: [],\n      //表格数据加载\n      loading: true,\n      //所有考试信息\n      allExamInfo: [],\n      //总数\n      total: 0\n    }\n  },\n  created () {\n    this.getExamRecords()\n    this.getAllExamInfo()\n  },\n  methods: {\n    async getExamRecords () {\n      await exam.getExamRecord(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          this.getAllExamInfo()\n          resp.data.data.forEach(item => {\n            user.getUserById(item.userId).then((r) => {\n              item.trueName = r.data.trueName\n            })\n          })\n          this.examRecords = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        }\n      })\n    },\n    getAllExamInfo () {\n      exam.allExamInfo().then((resp) => {\n        if (resp.code === 200) {\n          this.allExamInfo = resp.data\n          this.setExamName()\n        }\n      })\n    },\n    operation (v) {\n      if (v === '') this.queryInfo.examId = null\n      this.getExamRecords()\n    },\n    setExamName () {\n      this.examRecords.forEach(item => {\n        this.allExamInfo.forEach(i2 => {\n          if (item.examId === i2.examId) {\n            this.$set(item, 'examName', i2.examName)\n          }\n        })\n      })\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getExamRecords()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getExamRecords()\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/markManage\";\n</style>\n"]}]}