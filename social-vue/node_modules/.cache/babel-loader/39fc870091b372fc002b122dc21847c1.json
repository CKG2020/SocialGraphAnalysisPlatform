{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/store/modules/user.js","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/store/modules/user.js","mtime":1649252876868},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBsb2dpbiBhcyBfbG9naW4gfSBmcm9tICJAL2FwaS9hdXRoIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CnZhciBzdGF0ZSA9IHsKICB0b2tlbjogZ2V0VG9rZW4oKSwKICAvLyB0b2tlbgogIHVzZXI6ICIiIC8vIOeUqOaIt+WvueixoQoKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVE9LRU5fU1RBVEU6IGZ1bmN0aW9uIFNFVF9UT0tFTl9TVEFURShzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBTRVRfVVNFUl9TVEFURTogZnVuY3Rpb24gU0VUX1VTRVJfU1RBVEUoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8g55So5oi355m75b2VCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICBjb25zb2xlLmxvZyh1c2VySW5mbyk7CiAgICB2YXIgbmFtZSA9IHVzZXJJbmZvLm5hbWUsCiAgICAgICAgcGFzcyA9IHVzZXJJbmZvLnBhc3MsCiAgICAgICAgcmVtZW1iZXJNZSA9IHVzZXJJbmZvLnJlbWVtYmVyTWU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfbG9naW4oewogICAgICAgIHVzZXJuYW1lOiBuYW1lLnRyaW0oKSwKICAgICAgICBwYXNzd29yZDogcGFzcywKICAgICAgICByZW1lbWJlck1lOiByZW1lbWJlck1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbW1pdCgiU0VUX1RPS0VOX1NUQVRFIiwgZGF0YS50b2tlbik7CiAgICAgICAgc2V0VG9rZW4oZGF0YS50b2tlbik7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbyhfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgZ2V0VXNlckluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICBjb21taXQoIlNFVF9UT0tFTl9TVEFURSIsICIiKTsKICAgICAgICAgIGNvbW1pdCgiU0VUX1VTRVJfU1RBVEUiLCAiIik7CiAgICAgICAgICByZW1vdmVUb2tlbigpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgcmVqZWN0KCJWZXJpZmljYXRpb24gZmFpbGVkLCBwbGVhc2UgTG9naW4gYWdhaW4uIik7CiAgICAgICAgfQoKICAgICAgICBjb21taXQoIlNFVF9VU0VSX1NUQVRFIiwgZGF0YSk7CiAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIOazqOmUgAogIGxvZ291dDogZnVuY3Rpb24gKF9sb2dvdXQpIHsKICAgIGZ1bmN0aW9uIGxvZ291dChfeCkgewogICAgICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGxvZ291dC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF9sb2dvdXQudG9TdHJpbmcoKTsKICAgIH07CgogICAgcmV0dXJuIGxvZ291dDsKICB9KGZ1bmN0aW9uIChfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgbG9nb3V0KHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBjb21taXQoIlNFVF9UT0tFTl9TVEFURSIsICIiKTsKICAgICAgICBjb21taXQoIlNFVF9VU0VSX1NUQVRFIiwgIiIpOwogICAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0pCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/store/modules/user.js"],"names":["login","getToken","setToken","removeToken","state","token","user","mutations","SET_TOKEN_STATE","SET_USER_STATE","actions","userInfo","commit","console","log","name","pass","rememberMe","Promise","resolve","reject","username","trim","password","then","response","data","catch","error","getInfo","getUserInfo","logout","namespaced"],"mappings":"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","sourcesContent":["import {  login } from \"@/api/auth\";\nimport { getToken, setToken, removeToken } from \"@/utils/auth\";\n\nconst state = {\n  token: getToken(), // token\n  user: \"\", // 用户对象\n};\n\nconst mutations = {\n  SET_TOKEN_STATE: (state, token) => {\n    state.token = token;\n  },\n  SET_USER_STATE: (state, user) => {\n    state.user = user;\n  },\n};\n\nconst actions = {\n  // 用户登录\n  login({ commit }, userInfo) {\n    console.log(userInfo);\n    const { name, pass, rememberMe } = userInfo;\n    return new Promise((resolve, reject) => {\n      login({ username: name.trim(), password: pass, rememberMe: rememberMe })\n        .then((response) => {\n          const { data } = response;\n          commit(\"SET_TOKEN_STATE\", data.token);\n          setToken(data.token);\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n  // 获取用户信息\n  getInfo({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getUserInfo()\n        .then((response) => {\n          const { data } = response;\n          if (!data) {\n            commit(\"SET_TOKEN_STATE\", \"\");\n            commit(\"SET_USER_STATE\", \"\");\n            removeToken();\n            resolve();\n            reject(\"Verification failed, please Login again.\");\n          }\n          commit(\"SET_USER_STATE\", data);\n          resolve(data);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n  // 注销\n  logout({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      logout(state.token)\n        .then((response) => {\n          console.log(response);\n          commit(\"SET_TOKEN_STATE\", \"\");\n          commit(\"SET_USER_STATE\", \"\");\n          removeToken();\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n};\n"]}]}