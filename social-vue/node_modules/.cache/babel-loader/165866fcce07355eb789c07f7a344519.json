{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/utils/request.js","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/utils/request.js","mtime":1649252471296},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfTWVzc2FnZUJveDIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvbWVzc2FnZS1ib3guY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfTWVzc2FnZUJveCBmcm9tICJlbGVtZW50LXVpL2xpYi9tZXNzYWdlLWJveCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7Ci8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcycKLy8gaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknCi8vCi8vIC8vIOWIm+W7umF4aW9z5a6e5L6LCi8vIGNvbnN0IHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewovLyAgIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0Ojg4ODkvJywgLy8gYXBpIOeahCBiYXNlX3VybAovLyAgIHRpbWVvdXQ6IDUwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Ci8vIH0pCi8vIHNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7Ci8vICAgY29uc3QgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhvcml6YXRpb24nKQovLyAgIGlmICh0b2tlbikgeyAgLy8g5Yik5pat5piv5ZCm5a2Y5ZyodG9rZW7vvIzlpoLmnpzlrZjlnKjnmoTor53vvIzliJnmr4/kuKpodHRwIGhlYWRlcumDveWKoOS4inRva2VuCi8vICAgICBjb25maWcuaGVhZGVycy5hdXRob3JpemF0aW9uID0gdG9rZW4KLy8gICB9Ci8vICAgcmV0dXJuIGNvbmZpZwovLyB9LCBlcnJvciA9PiB7Ci8vICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKQovLyB9KSwKLy8gcmVzcG9uc2Ug5oum5oiq5ZmoCi8vIHNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgKLy8gICByZXNwb25zZSA9PiB7Ci8vICAgICAvKioKLy8gICAgICAqIGNvZGXkuLrpnZ4yMDDmmK/mipvplJkg5Y+v57uT5ZCI6Ieq5bex5Lia5Yqh6L+b6KGM5L+u5pS5Ci8vICAgICAgKi8KLy8gICAgIGNvbnN0IHJlcyA9IHJlc3BvbnNlLmRhdGEKLy8gICAgIGlmIChyZXMuY29kZSAhPT0gMjAwKSB7Ci8vICAgICAgIE1lc3NhZ2UoewovLyAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAovLyAgICAgICAgIHR5cGU6ICdlcnJvcicsCi8vICAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwCi8vICAgICAgIH0pCi8vICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZXJyb3InKQovLyAgICAgfSBlbHNlIHsKLy8gICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEKLy8gICAgIH0KLy8gICB9LAovLyAgIGVycm9yID0+IHsKLy8gICAgIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpIC8vIGZvciBkZWJ1ZwovLyAgICAgTWVzc2FnZSh7Ci8vICAgICAgIG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyTXNnLAovLyAgICAgICB0eXBlOiAnZXJyb3InLAovLyAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKLy8gICAgIH0pCi8vICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpCi8vICAgfQovLyApCi8vIGV4cG9ydCBkZWZhdWx0IHNlcnZpY2UKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7IC8vIDEu5Yib5bu6YXhpb3Plrp7kvosKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICAvLyDlhazlhbHmjqXlj6MtLei/memHjOazqOaEj+WQjumdouS8muiusix1cmwgPSBiYXNlIHVybCArIHJlcXVlc3QgdXJsCiAgYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OS8nLAogIC8vIGJhc2VVUkw6ICdodHRwczovL2FwaS5leGFtcGxlLmNvbScsCiAgLy8g6LaF5pe25pe26Ze0IOWNleS9jeaYr21z77yM6L+Z6YeM6K6+572u5LqGNXPnmoTotoXml7bml7bpl7QKICB0aW1lb3V0OiA1ICogMTAwMAp9KTsgLy8gMi7or7fmsYLmi6bmiKrlmahyZXF1ZXN0IGludGVyY2VwdG9yCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5Y+R6K+35rGC5YmN5YGa55qE5LiA5Lqb5aSE55CG77yM5pWw5o2u6L2s5YyW77yM6YWN572u6K+35rGC5aS077yM6K6+572udG9rZW4s6K6+572ubG9hZGluZ+etie+8jOagueaNrumcgOaxguWOu+a3u+WKoAogIC8vIOazqOaEj+S9v+eUqHRva2Vu55qE5pe25YCZ6ZyA6KaB5byV5YWlY29va2ll5pa55rOV5oiW6ICF55So5pys5ZywbG9jYWxTdG9yYWdl562J5pa55rOV77yM5o6o6I2QanMtY29va2llCiAgaWYgKHN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgIC8vIGNvbmZpZy5wYXJhbXMgPSB7J3Rva2VuJzogdG9rZW59ICAgIC8vIOWmguaenOimgeaxguaQuuW4puWcqOWPguaVsOS4rQogICAgLy8gY29uZmlnLmhlYWRlcnMudG9rZW4gPSB0b2tlbjsgICAgICAgLy8g5aaC5p6c6KaB5rGC5pC65bim5Zyo6K+35rGC5aS05LitCiAgICAvLyBiZWFyZXLvvJp3M2Pop4TojIMKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBnZXRUb2tlbigpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIC8vIGNvbnNvbGUubG9nKGVycm9yKSAvLyBmb3IgZGVidWcgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDorr7nva5jcm9zc+i3qOWfnyDlubborr7nva7orr/pl67mnYPpmZAg5YWB6K646Leo5Z+f5pC65bimY29va2ll5L+h5oGvLOS9v+eUqEpXVOWPr+WFs+mXrQoKc2VydmljZS5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKCAvLyDmjqXmlLbliLDlk43lupTmlbDmja7lubbmiJDlip/lkI7nmoTkuIDkupvlhbHmnInnmoTlpITnkIbvvIzlhbPpl61sb2FkaW5n562JCmZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciByZXMgPSByZXNwb25zZS5kYXRhOyAvLyDlpoLmnpzoh6rlrprkuYnku6PnoIHkuI3mmK8yMDDvvIzliJnlsIblhbbliKTmlq3kuLrplJnor6/jgIIKCiAgaWYgKHJlcy5jb2RlICE9PSAyMDApIHsKICAgIC8vIDUwMDA4OiDpnZ7ms5VUb2tlbjsgNTAwMTI6IOW8guWcsOeZu+W9lTsgNTAwMTQ6IFRva2Vu5aSx5pWIOwogICAgaWYgKHJlcy5jb2RlID09PSA0MDEgfHwgcmVzLmNvZGUgPT09IDUwMDEyIHx8IHJlcy5jb2RlID09PSA1MDAxNCkgewogICAgICAvLyDph43mlrDnmbvlvZUKICAgICAgX01lc3NhZ2VCb3guY29uZmlybSgn5Lya6K+d5aSx5pWI77yM5oKo5Y+v5Lul55WZ5Zyo5b2T5YmN6aG16Z2i77yM5oiW6YeN5paw55m75b2VJywgJ+adg+mZkOS4jei2sycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIGNlbnRlcjogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcjL2xvZ2luJzsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyDlhbbku5blvILluLjnm7TmjqXmj5DnpLoKICAgICAgX01lc3NhZ2UoewogICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn4pqgJyArIHJlcy5tZXNzYWdlIHx8ICdFcnJvcicsCiAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICBkdXJhdGlvbjogMyAqIDEwMDAKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXMubWVzc2FnZSB8fCAnRXJyb3InKSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXM7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvKiogKioqIOaOpeaUtuWIsOW8guW4uOWTjeW6lOeahOWkhOeQhuW8gOWniyAqKioqKi8KICAvLyBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKSAvLyBmb3IgZGVidWcKICBfTWVzc2FnZSh7CiAgICBzaG93Q2xvc2U6IHRydWUsCiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/utils/request.js"],"names":["axios","store","getToken","service","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","error","Promise","reject","defaults","withCredentials","response","res","data","code","confirm","confirmButtonText","cancelButtonText","type","center","then","window","location","href","showClose","message","duration","Error"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB,C,CAEA;;AACA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC3B;AACAC,EAAAA,OAAO,EAAE,wBAFkB;AAI3B;AACA;AACAC,EAAAA,OAAO,EAAE,IAAI;AANc,CAAb,CAAhB,C,CASA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACE,UAAAC,MAAM,EAAI;AACR;AACA;AACA,MAAIT,KAAK,CAACU,OAAN,CAAcC,KAAlB,EAAyB;AACvB;AACA;AACA;AACAF,IAAAA,MAAM,CAACG,OAAP,CAAe,eAAf,IAAkC,YAAYX,QAAQ,EAAtD;AACD;;AACD,SAAOQ,MAAP;AACD,CAXH,EAYE,UAAAI,KAAK,EAAI;AACP;AACA;AAEA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAjBH,E,CAoBA;;AACAX,OAAO,CAACc,QAAR,CAAiBC,eAAjB,GAAmC,KAAnC;AAEAf,OAAO,CAACI,YAAR,CAAqBY,QAArB,CAA8BV,GAA9B,EACE;AACA,UAAAU,QAAQ,EAAI;AACV,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB,CADU,CAEV;;AACA,MAAID,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;AACpB;AACA,QAAIF,GAAG,CAACE,IAAJ,KAAa,GAAb,IAAoBF,GAAG,CAACE,IAAJ,KAAa,KAAjC,IAA0CF,GAAG,CAACE,IAAJ,KAAa,KAA3D,EAAkE;AAChE;AACA,kBAAWC,OAAX,CAAmB,sBAAnB,EAA2C,MAA3C,EAAmD;AACjDC,QAAAA,iBAAiB,EAAE,IAD8B;AAEjDC,QAAAA,gBAAgB,EAAE,IAF+B;AAGjDC,QAAAA,IAAI,EAAE,SAH2C;AAIjDC,QAAAA,MAAM,EAAE;AAJyC,OAAnD,EAKGC,IALH,CAKQ,YAAM;AACZC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;AACD,OAPD;AAQD,KAVD,MAUO;AAAE;AACP,eAAQ;AACNC,QAAAA,SAAS,EAAE,IADL;AAENC,QAAAA,OAAO,EAAE,MAAMb,GAAG,CAACa,OAAV,IAAqB,OAFxB;AAGNP,QAAAA,IAAI,EAAE,OAHA;AAINQ,QAAAA,QAAQ,EAAE,IAAI;AAJR,OAAR;AAMD;;AACD,WAAOnB,OAAO,CAACC,MAAR,CAAe,IAAImB,KAAJ,CAAUf,GAAG,CAACa,OAAJ,IAAe,OAAzB,CAAf,CAAP;AACD,GArBD,MAqBO;AACL,WAAOb,GAAP;AACD;AACF,CA7BH,EA8BE,UAAAN,KAAK,EAAI;AACP;AACA;AACA,WAAQ;AACNkB,IAAAA,SAAS,EAAE,IADL;AAENC,IAAAA,OAAO,EAAEnB,KAAK,CAACmB,OAFT;AAGNP,IAAAA,IAAI,EAAE,OAHA;AAINQ,IAAAA,QAAQ,EAAE,IAAI;AAJR,GAAR;;AAMA,SAAOnB,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAxCH;AA0CA,eAAeX,OAAf","sourcesContent":["// import axios from 'axios'\n// import { Message } from 'element-ui'\n//\n// // 创建axios实例\n// const service = axios.create({\n//   baseURL: 'http://localhost:8889/', // api 的 base_url\n//   timeout: 5000 // 请求超时时间\n// })\n\n// service.interceptors.request.use(config => {\n//   const token = window.localStorage.getItem('authorization')\n//   if (token) {  // 判断是否存在token，如果存在的话，则每个http header都加上token\n//     config.headers.authorization = token\n//   }\n//   return config\n// }, error => {\n//   return Promise.reject(error)\n// }),\n\n// response 拦截器\n// service.interceptors.response.use(\n//   response => {\n//     /**\n//      * code为非200是抛错 可结合自己业务进行修改\n//      */\n//     const res = response.data\n//     if (res.code !== 200) {\n//       Message({\n//         message: res.message,\n//         type: 'error',\n//         duration: 5 * 1000\n//       })\n//       return Promise.reject('error')\n//     } else {\n//       return response.data\n//     }\n//   },\n//   error => {\n//     console.log('err' + error) // for debug\n//     Message({\n//       message: error.response.data.errMsg,\n//       type: 'error',\n//       duration: 5 * 1000\n//     })\n//     return Promise.reject(error)\n//   }\n// )\n\n// export default service\nimport axios from 'axios'\nimport { Message, MessageBox } from 'element-ui'\nimport store from '@/store'\nimport { getToken } from '@/utils/auth'\n\n// 1.创建axios实例\nconst service = axios.create({\n  // 公共接口--这里注意后面会讲,url = base url + request url\n  baseURL: 'http://localhost:8889/',\n\n  // baseURL: 'https://api.example.com',\n  // 超时时间 单位是ms，这里设置了5s的超时时间\n  timeout: 5 * 1000\n})\n\n// 2.请求拦截器request interceptor\nservice.interceptors.request.use(\n  config => {\n    // 发请求前做的一些处理，数据转化，配置请求头，设置token,设置loading等，根据需求去添加\n    // 注意使用token的时候需要引入cookie方法或者用本地localStorage等方法，推荐js-cookie\n    if (store.getters.token) {\n      // config.params = {'token': token}    // 如果要求携带在参数中\n      // config.headers.token = token;       // 如果要求携带在请求头中\n      // bearer：w3c规范\n      config.headers['Authorization'] = 'Bearer ' + getToken()\n    }\n    return config\n  },\n  error => {\n    // do something with request error\n    // console.log(error) // for debug        .then((response) => {\n\n    return Promise.reject(error)\n  }\n)\n\n// 设置cross跨域 并设置访问权限 允许跨域携带cookie信息,使用JWT可关闭\nservice.defaults.withCredentials = false\n\nservice.interceptors.response.use(\n  // 接收到响应数据并成功后的一些共有的处理，关闭loading等\n  response => {\n    const res = response.data\n    // 如果自定义代码不是200，则将其判断为错误。\n    if (res.code !== 200) {\n      // 50008: 非法Token; 50012: 异地登录; 50014: Token失效;\n      if (res.code === 401 || res.code === 50012 || res.code === 50014) {\n        // 重新登录\n        MessageBox.confirm('会话失效，您可以留在当前页面，或重新登录', '权限不足', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          center: true\n        }).then(() => {\n          window.location.href = '#/login'\n        })\n      } else { // 其他异常直接提示\n        Message({\n          showClose: true,\n          message: '⚠' + res.message || 'Error',\n          type: 'error',\n          duration: 3 * 1000\n        })\n      }\n      return Promise.reject(new Error(res.message || 'Error'))\n    } else {\n      return res\n    }\n  },\n  error => {\n    /** *** 接收到异常响应的处理开始 *****/\n    // console.log('err' + error) // for debug\n    Message({\n      showClose: true,\n      message: error.message,\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\nexport default service\n"]}]}