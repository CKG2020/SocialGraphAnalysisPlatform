{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/AddExam.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/AddExam.vue","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBxdWVzdGlvbkJhbmtBcGkgZnJvbSAnQC9hcGkvcXVlc3Rpb25CYW5rJzsKaW1wb3J0IHF1ZXN0aW9uIGZyb20gJ0AvYXBpL3F1ZXN0aW9uJzsKaW1wb3J0IHV0aWxzIGZyb20gJ0AvdXRpbHMvdXRpbHMnOwppbXBvcnQgZXhhbUFwaSBmcm9tICdAL2FwaS9leGFtJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZGRFeGFtJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/mn6Xor6Lpopjnm67nmoTlj4LmlbAKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgLy/popjnm67nsbvlnovkuIvmi4nmrL7miYDpgInnmoTlhoXlrrkKICAgICAgICAncXVlc3Rpb25UeXBlJzogJycsCiAgICAgICAgJ3F1ZXN0aW9uQmFuayc6ICcnLAogICAgICAgICdxdWVzdGlvbkNvbnRlbnQnOiAnJywKICAgICAgICAncGFnZU5vJzogMSwKICAgICAgICAncGFnZVNpemUnOiAxMAogICAgICB9LAogICAgICAvL+mimOebruexu+WeiwogICAgICBxdWVzdGlvblR5cGU6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogJ+WNlemAiemimCcKICAgICAgfSwgewogICAgICAgIGlkOiAyLAogICAgICAgIG5hbWU6ICflpJrpgInpopgnCiAgICAgIH0sIHsKICAgICAgICBpZDogMywKICAgICAgICBuYW1lOiAn5Yik5pat6aKYJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDQsCiAgICAgICAgbmFtZTogJ+eugOetlOmimCcKICAgICAgfV0sCiAgICAgIC8v5b2T5YmN55qE5q2l6aqkCiAgICAgIGN1clN0ZXA6IDEsCiAgICAgIC8v57uE5Y235qih5byPCiAgICAgIG1ha2VNb2RlbDogMSwKICAgICAgLy/mt7vliqDogIPor5Xpopjnm67kv6Hmga8obWFrZU1vZGVsID0gMeeahOaXtuWAmSkKICAgICAgYWRkRXhhbVF1ZXN0aW9uOiBbXSwKICAgICAgLy/miYDmnInpopjlupPkv6Hmga8KICAgICAgYWxsQmFuazogW10sCiAgICAgIC8v5re75Yqg6ICD6K+V6aKY55uu5L+h5oGvKG1ha2VNb2RlbCA9IDIg55qE5pe25YCZKQogICAgICBhZGRFeGFtUXVlc3Rpb24yOiBbXSwKICAgICAgLy/miYDmnInpopjnm67nmoTlr7nor53moYYKICAgICAgc2hvd1F1ZXN0aW9uRGlhbG9nOiBmYWxzZSwKICAgICAgLy/lr7nor53moYbkuK3popjnm67ooajmoLznmoTliqDovb0KICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy/miYDmnInpopjnm67nmoTkv6Hmga8KICAgICAgcXVlc3Rpb25JbmZvOiBbXSwKICAgICAgLy/miYDmnInpopjnm67nmoTlr7nor53moYbkuK3ooajmoLzooqvpgInkuK0KICAgICAgc2VsZWN0ZWRUYWJsZTogW10sCiAgICAgIC8v5omA5pyJ6aKY55uu5oC75pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvL+iAg+ivleadg+mZkCgx5YWs5byALCAy5a+G56CBKQogICAgICBleGFtQXV0aG9yaXR5OiAxLAogICAgICAvL+iAg+ivleWvhueggSjmnYPpmZDkuLoy5pe255qE5a+G56CBKQogICAgICBleGFtUGFzc3dvcmQ6ICcnLAogICAgICAvL+ihpeWFheeahOiAg+ivleS/oeaBrwogICAgICBleGFtSW5mbzogewogICAgICAgICdleGFtSWQnOiAnJywKICAgICAgICAnZXhhbURlc2MnOiAnJywKICAgICAgICAncGFzc1Njb3JlJzogMCwKICAgICAgICAnZXhhbUR1cmF0aW9uJzogMCwKICAgICAgICAnc3RhcnRUaW1lJzogJycsCiAgICAgICAgJ2VuZFRpbWUnOiAnJwogICAgICB9LAogICAgICAvL+ihpeWFheeahOiAg+ivleS/oeaBr+eahOihqOWNlemqjOivgQogICAgICBleGFtSW5mb1J1bGVzOiB7CiAgICAgICAgZXhhbU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXogIPor5XlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc1Njb3JlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6YCa6L+H5YiG5pWwJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGV4YW1EdXJhdGlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeiAg+ivleaXtumVvycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IFsndGFnSW5mbyddLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvL+S4gOWIm+W7uuWwseaUueWPmOWktOmDqOeahOmdouWMheWxkQogICAgdGhpcy4kZW1pdCgnZ2l2ZUNoaWxkQ2hhbmdlQnJlYWtJbmZvJywgJ+a3u+WKoOiAg+ivlScsICfmt7vliqDogIPor5UnKTsKICAgIHRoaXMuY3JlYXRlVGFnc0luUGFyZW50KCk7CiAgICB0aGlzLmdldEJhbmtJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WQkeeItue7hOS7tuS4rea3u+WKoOWktOmDqOeahHRhZ3PmoIfnrb4KICAgIGNyZWF0ZVRhZ3NJblBhcmVudDogZnVuY3Rpb24gY3JlYXRlVGFnc0luUGFyZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy50YWdJbmZvLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIC8v5aaC5p6cdGFnc+WFqOmDqOespuWQiAogICAgICAgIGlmIChpdGVtLm5hbWUgPT09ICfmt7vliqDogIPor5UnICYmIGl0ZW0udXJsID09PSBfdGhpcy4kcm91dGUucGF0aCkgewogICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLm5hbWUgPT09ICfmt7vliqDogIPor5UnICYmIGl0ZW0udXJsICE9PSBfdGhpcy4kcm91dGUucGF0aCkgewogICAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZVRhZ0luZm8nLCAn5re75Yqg6ICD6K+VJywgX3RoaXMuJHJvdXRlLnBhdGgpOwoKICAgICAgICAgIGZsYWcgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICghZmxhZykgdGhpcy4kZW1pdCgnZ2l2ZUNoaWxkQWRkVGFnJywgJ+a3u+WKoOiAg+ivlScsIHRoaXMuJHJvdXRlLnBhdGgpOwogICAgfSwKICAgIC8v6I635Y+W5omA5pyJ55qE6aKY5bqT5L+h5oGvCiAgICBnZXRCYW5rSW5mbzogZnVuY3Rpb24gZ2V0QmFua0luZm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcXVlc3Rpb25CYW5rQXBpLmdldEJhbmtIYXZlUXVlc3Rpb25TdW1CeVR5cGUoewogICAgICAgICdwYWdlTm8nOiAxLAogICAgICAgICdwYWdlU2l6ZSc6IDk5OTkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmFsbEJhbmsgPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Yig6Zmk5b2T5YmN6ZyA6KaB5Y676Zmk55qE6aKY5bqTCiAgICBkZWxCYW5rOiBmdW5jdGlvbiBkZWxCYW5rKGJhbmtJZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYWRkRXhhbVF1ZXN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0uYmFua0lkID09PSBiYW5rSWQpIF90aGlzMy5hZGRFeGFtUXVlc3Rpb24uc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mt7vliqDpopjlupPnu4TljbfkuK3nmoTpopjlupMKICAgIGFkZEJhbms6IGZ1bmN0aW9uIGFkZEJhbmsoKSB7CiAgICAgIHRoaXMuYWRkRXhhbVF1ZXN0aW9uLnB1c2goewogICAgICAgICdiYW5rTmFtZSc6ICcnLAogICAgICAgICdzaW5nbGVTY29yZSc6IDEsCiAgICAgICAgJ211bHRpcGxlU2NvcmUnOiAxLAogICAgICAgICdqdWRnZVNjb3JlJzogMSwKICAgICAgICAnc2hvcnRTY29yZSc6IDEKICAgICAgfSk7CiAgICB9LAogICAgLy/oh6rnlLHnu4Tljbfml7bmt7vliqDor5XpopgKICAgIHNob3dBZGREaWFsb2c6IGZ1bmN0aW9uIHNob3dBZGREaWFsb2coKSB7CiAgICAgIHRoaXMuc2hvd1F1ZXN0aW9uRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKTsKICAgIH0sCiAgICAvL+iHqueUsee7hOWNt+aXtuWIoOmZpOivlemimAogICAgZGVsUXVlc3Rpb246IGZ1bmN0aW9uIGRlbFF1ZXN0aW9uKHF1ZXN0aW9uSWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbjIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAoaXRlbS5xdWVzdGlvbklkID09PSBxdWVzdGlvbklkKSBfdGhpczQuYWRkRXhhbVF1ZXN0aW9uMi5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+mimOebruexu+Wei+WPmOWMlgogICAgdHlwZUNoYW5nZTogZnVuY3Rpb24gdHlwZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucXVlc3Rpb25UeXBlID0gdmFsOwogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpOwogICAgfSwKICAgIC8v6aKY5bqT5Y+Y5YyWCiAgICBiYW5rQ2hhbmdlOiBmdW5jdGlvbiBiYW5rQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5xdWVzdGlvbkJhbmsgPSB2YWw7CiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICB9LAogICAgLy/ojrflj5bpopjnm67kv6Hmga8KICAgIGdldFF1ZXN0aW9uSW5mbzogZnVuY3Rpb24gZ2V0UXVlc3Rpb25JbmZvKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uKHRoaXMucXVlcnlJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczUucXVlc3Rpb25JbmZvID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICBfdGhpczUudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgICBfdGhpczUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczUuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfojrflj5bpopjlupPkv6Hmga/lpLHotKUnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WkhOeQhuihqOagvOiiq+mAieS4rQogICAgaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVUYWJsZVNlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUYWJsZSA9IHZhbDsKICAgIH0sCiAgICAvL+WIhumhtemhtemdouWkp+Wwj+aUueWPmAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICB9LAogICAgLy/liIbpobXmj5Lku7bnmoTpobXmlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VObyA9IHZhbDsKICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKTsKICAgIH0sCiAgICAvL+iHqueUsee7hOWNt+S4remAieS4reeahOmimOebrua3u+WKoOi/m+WOuwogICAgYWRkUXVUb0ZyZWU6IGZ1bmN0aW9uIGFkZFF1VG9GcmVlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuc2VsZWN0ZWRUYWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKCFfdGhpczYuYWRkRXhhbVF1ZXN0aW9uMi5zb21lKGZ1bmN0aW9uIChpMikgewogICAgICAgICAgcmV0dXJuIGkyLnF1ZXN0aW9uSWQgPT09IGl0ZW0uaWQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIC8v5LiN5a2Y5Zyo5pyJ5b2T5YmN6aKY55uuCiAgICAgICAgICBfdGhpczYuYWRkRXhhbVF1ZXN0aW9uMi5wdXNoKHsKICAgICAgICAgICAgJ3F1ZXN0aW9uSWQnOiBpdGVtLmlkLAogICAgICAgICAgICAncXVlc3Rpb25Db250ZW50JzogaXRlbS5xdUNvbnRlbnQsCiAgICAgICAgICAgICdxdWVzdGlvblR5cGUnOiBpdGVtLnF1VHlwZSwKICAgICAgICAgICAgJ3Njb3JlJzogMQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zaG93UXVlc3Rpb25EaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICAvL+e7hOWNt+aooeW8j+WPmOWMlgogICAgbWFrZU1vZGVsQ2hhbmdlOiBmdW5jdGlvbiBtYWtlTW9kZWxDaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5Lii5aSx5b2T5YmN57uE5Y235pWw5o2uLCDmmK/lkKbnu6fnu60/JywgJ1RpcHMnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcubWFrZU1vZGVsID09PSAxID8gX3RoaXM3LmFkZEV4YW1RdWVzdGlvbjIgPSBbXSA6IF90aGlzNy5hZGRFeGFtUXVlc3Rpb24gPSBbXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8v5re75Yqg6ICD6K+VCiAgICBhZGRFeGFtOiBmdW5jdGlvbiBhZGRFeGFtKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzWydleGFtSW5mb0Zvcm0nXSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpczguYWRkRXhhbVF1ZXN0aW9uLmxlbmd0aCAhPT0gMCB8fCBfdGhpczguYWRkRXhhbVF1ZXN0aW9uMi5sZW5ndGggIT09IDApIHsKICAgICAgICAgIC8v5p6E6YCg5pWw5o2u5a+56LGhKOiAg+ivleS/oeaBrykKICAgICAgICAgIHZhciBleGFtID0gX3RoaXM4LmV4YW1JbmZvOwogICAgICAgICAgZXhhbS50b3RhbFNjb3JlID0gX3RoaXM4LnN1bVRvdGFsU2NvcmU7CiAgICAgICAgICBleGFtLnN0YXR1cyA9IDE7IC8v5p2D6ZmQaWTorr7nva4KCiAgICAgICAgICBleGFtLnR5cGUgPSBfdGhpczguZXhhbUF1dGhvcml0eTsKCiAgICAgICAgICBpZiAoX3RoaXM4LmV4YW1BdXRob3JpdHkgPT09IDIpIHsKICAgICAgICAgICAgLy/ogIPor5Xlr4bnoIEKICAgICAgICAgICAgaWYgKF90aGlzOC5leGFtUGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgICAgICAgLy8g5b2T5YmN55So5oi36YCJ5oup5LqG6ZyA6KaB5a+G56CB5p2D6ZmQLOS9huaYr+WvhueggeS4uuepugogICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5lcnJvcign5b2T5YmN5p2D6ZmQ5Li66ZyA6KaB5a+G56CBLOS9huaYr+WvhueggeS4uuepuicpOwoKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGV4YW0ucGFzc3dvcmQgPSBfdGhpczguZXhhbVBhc3N3b3JkOwogICAgICAgICAgfSAvL+mimOW6k+e7hOWNt+aooeW8jwoKCiAgICAgICAgICBpZiAoX3RoaXM4Lm1ha2VNb2RlbCA9PT0gMSAmJiAhX3RoaXM4LmFkZEV4YW1RdWVzdGlvbi5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmJhbmtJZCA9PT0gJyc7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczguYWRkRXhhbVF1ZXN0aW9uKTsKICAgICAgICAgICAgdmFyIGJhbmtOYW1lcyA9IFtdOwoKICAgICAgICAgICAgX3RoaXM4LmFkZEV4YW1RdWVzdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGJhbmtOYW1lcy5wdXNoKGl0ZW0uYmFua05hbWUpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGV4YW0uYmFua05hbWVzID0gYmFua05hbWVzLmpvaW4oJywnKTsKICAgICAgICAgICAgZXhhbS5zaW5nbGVTY29yZSA9IF90aGlzOC5hZGRFeGFtUXVlc3Rpb25bMF0uc2luZ2xlU2NvcmU7CiAgICAgICAgICAgIGV4YW0ubXVsdGlwbGVTY29yZSA9IF90aGlzOC5hZGRFeGFtUXVlc3Rpb25bMF0ubXVsdGlwbGVTY29yZTsKICAgICAgICAgICAgZXhhbS5qdWRnZVNjb3JlID0gX3RoaXM4LmFkZEV4YW1RdWVzdGlvblswXS5qdWRnZVNjb3JlOwogICAgICAgICAgICBleGFtLnNob3J0U2NvcmUgPSBfdGhpczguYWRkRXhhbVF1ZXN0aW9uWzBdLnNob3J0U2NvcmU7CiAgICAgICAgICAgIGV4YW1BcGkuYWRkRXhhbUJ5QmFuayhleGFtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSBfdGhpczguJHJvdXRlci5wdXNoKCcvZXhhbU1hbmFnZScpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM4Lm1ha2VNb2RlbCA9PT0gMikgewogICAgICAgICAgICAvL+iHqueUsee7hOWNt+aooeW8jwogICAgICAgICAgICAvL+mimOebrmlk5pWw57uECiAgICAgICAgICAgIHZhciBxdWVzdGlvbklkcyA9IFtdOyAvL+mimOebruaIkOe7qeaVsOe7hAoKICAgICAgICAgICAgdmFyIHNjb3JlcyA9IFtdOwoKICAgICAgICAgICAgX3RoaXM4LmFkZEV4YW1RdWVzdGlvbjIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5xdWVzdGlvbklkKTsKICAgICAgICAgICAgICBzY29yZXMucHVzaChpdGVtLnNjb3JlKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBleGFtLnF1ZXN0aW9uSWRzID0gcXVlc3Rpb25JZHMuam9pbignLCcpOwogICAgICAgICAgICBleGFtLnNjb3JlcyA9IHNjb3Jlcy5qb2luKCcsJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4YW0pOwogICAgICAgICAgICBleGFtQXBpLmFkZEV4YW1CeVF1ZXN0aW9uTGlzdChleGFtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSBfdGhpczguJHJvdXRlci5wdXNoKCcvZXhhbU1hbmFnZScpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5lcnJvcign6K+35qOA5p+l6ICD6K+V6KeE5YiZ6K6+572u5piv5ZCm5a6M5pW0Jyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCAn6K+35qOA5p+l6ICD6K+V6KeE5YiZ6K6+572u5piv5ZCm5a6M5pW0Jyk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLy/orqHnrpfmgLvliIYKICAgIHN1bVRvdGFsU2NvcmU6IGZ1bmN0aW9uIHN1bVRvdGFsU2NvcmUoKSB7CiAgICAgIGlmICh0aGlzLm1ha2VNb2RlbCA9PT0gMikgewogICAgICAgIHZhciBzY29yZSA9IDA7CiAgICAgICAgdGhpcy5hZGRFeGFtUXVlc3Rpb24yLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHNjb3JlICs9IHBhcnNlSW50KGl0ZW0uc2NvcmUpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBzY29yZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsSA;AACA;AACA;AACA;AAEA;AACAA,iBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC;AACA;AACA,0BAFA;AAGA,0BAHA;AAIA,6BAJA;AAKA,mBALA;AAMA;AANA,OAFA;AAUA;AACAC,qBACA;AACAC,aADA;AAEAJ;AAFA,OADA,EAKA;AACAI,aADA;AAEAJ;AAFA,OALA,EASA;AACAI,aADA;AAEAJ;AAFA,OATA,EAaA;AACAI,aADA;AAEAJ;AAFA,OAbA,CAXA;AA6BA;AACAK,gBA9BA;AA+BA;AACAC,kBAhCA;AAiCA;AACAC,yBAlCA;AAmCA;AACAC,iBApCA;AAqCA;AACAC,0BAtCA;AAuCA;AACAC,+BAxCA;AAyCA;AACAC,mBA1CA;AA2CA;AACAC,sBA5CA;AA6CA;AACAC,uBA9CA;AA+CA;AACAC,cAhDA;AAiDA;AACAC,sBAlDA;AAmDA;AACAC,sBApDA;AAqDA;AACAC;AACA,oBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA,yBAJA;AAKA,uBALA;AAMA;AANA,OAtDA;AA8DA;AACAC;AACAC,mBACA;AACAC,wBADA;AAEAC,4BAFA;AAGAC;AAHA,SADA,CADA;AAQAC,oBACA;AACAH,wBADA;AAEAC,4BAFA;AAGAC;AAHA,SADA,CARA;AAeAE,uBACA;AACAJ,wBADA;AAEAC,4BAFA;AAGAC;AAHA,SADA;AAfA;AA/DA;AAuFA,GA1FA;AA2FAG,oBA3FA;AA4FAC,SA5FA,qBA4FA;AACA;AACA;AACA;AACA;AACA,GAjGA;AAkGAC;AACA;AACAC,sBAFA,gCAEA;AAAA;;AACA;AACA;AACA;AACA;AACAC;AACA,SAFA,MAEA;AACA;;AACAA;AACA;AACA,OARA;AASA;AACA,KAdA;AAeA;AACAC,eAhBA,yBAgBA;AAAA;;AACAC;AACA,mBADA;AAEA;AAFA,SAGAC,IAHA,CAGA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACAC,yBADA;AAEAZ,iCAFA;AAGAa,yBAHA;AAIAC;AAJA;AAMA;AACA,OAdA;AAeA,KAhCA;AAiCA;AACAC,WAlCA,mBAkCAC,MAlCA,EAkCA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KAtCA;AAuCA;AACAC,WAxCA,qBAwCA;AACA,gCACA;AACA,sBADA;AAEA,wBAFA;AAGA,0BAHA;AAIA,uBAJA;AAKA;AALA,OADA;AAQA,KAjDA;AAkDA;AACAC,iBAnDA,2BAmDA;AACA;AACA;AACA,KAtDA;AAuDA;AACAC,eAxDA,uBAwDAC,UAxDA,EAwDA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KA5DA;AA6DA;AACAC,cA9DA,sBA8DAC,GA9DA,EA8DA;AACA;AACA;AACA,KAjEA;AAkEA;AACAC,cAnEA,sBAmEAD,GAnEA,EAmEA;AACA;AACA;AACA,KAtEA;AAuEA;AACAE,mBAxEA,6BAwEA;AAAA;;AACAC;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACAb,yBADA;AAEAZ,+BAFA;AAGAa,yBAHA;AAIAC;AAJA;AAMA;AACA,OAbA;AAcA,KAvFA;AAwFA;AACAY,4BAzFA,oCAyFAJ,GAzFA,EAyFA;AACA;AACA,KA3FA;AA4FA;AACAK,oBA7FA,4BA6FAL,GA7FA,EA6FA;AACA;AACA;AACA,KAhGA;AAiGA;AACAM,uBAlGA,+BAkGAN,GAlGA,EAkGA;AACA;AACA;AACA,KArGA;AAsGA;AACAO,eAvGA,yBAuGA;AAAA;;AACA;AACA;AACA;AACA,SAFA,GAEA;AAAA;AACA;AACA,iCADA;AAEA,6CAFA;AAGA,uCAHA;AAIA;AAJA;AAMA;AACA,OAXA;AAYA;AACA,KArHA;AAsHA;AACAC,mBAvHA,6BAuHA;AAAA;;AACA;AACAC,+BADA;AAEAC,8BAFA;AAGAnB;AAHA,SAIAF,IAJA,CAIA;AACA;AACA,OANA,EAMAsB,KANA,CAMA,aACA,CAPA;AAQA,KAhIA;AAiIA;AACAC,WAlIA,qBAkIA;AAAA;;AACAC;AACA;AACA;AACA;AACAC;AACAA,0BAJA,CAKA;;AACAA;;AACA;AAAA;AACA;AAAA;AACA;;AACA;AACA;;AACAA;AACA,WAbA,CAcA;;;AACA;AAAA;AAAA;AACAC;AACA;;AACA;AAAA;AAAA;;AACAD;AACAA;AACAA;AACAA;AACAA;AACAE;AACA;AACA,aAFA;AAGA,WAZA,MAYA;AAAA;AACA;AACA,iCAFA,CAGA;;AACA;;AACA;AACAC;AACAC;AACA,aAHA;;AAIAJ;AACAA;AACAC;AACAC;AACA;AACA,aAFA;AAGA,WAfA,MAeA;AACA;AACA;AACA;AACA,OA/CA,EA+CA,eA/CA;AAgDA;AAnLA,GAlGA;AAuRAG;AACA;AACAC,iBAFA,2BAEA;AACA;AACA;AACA;AACAC;AACA,SAFA;AAGA;AACA;AACA;AAVA;AAvRA","names":["name","data","queryInfo","questionType","id","curStep","makeModel","addExamQuestion","allBank","addExamQuestion2","showQuestionDialog","loading","questionInfo","selectedTable","total","examAuthority","examPassword","examInfo","examInfoRules","examName","required","message","trigger","passScore","examDuration","props","created","methods","createTagsInParent","flag","getBankInfo","questionBankApi","then","title","type","duration","delBank","bankId","addBank","showAddDialog","delQuestion","questionId","typeChange","val","bankChange","getQuestionInfo","question","handleTableSectionChange","handleSizeChange","handleCurrentChange","addQuToFree","makeModelChange","confirmButtonText","cancelButtonText","catch","addExam","utils","exam","console","examApi","questionIds","scores","computed","sumTotalScore","score"],"sourceRoot":"src/views/teacher","sources":["AddExam.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"220\">\n      <el-steps :active=\"curStep\" simple>\n        <el-step title=\"组卷配置\" icon=\"el-icon-edit\"></el-step>\n        <el-step title=\"考试权限\" icon=\"el-icon-lock\"></el-step>\n        <el-step title=\"补充配置\" icon=\"el-icon-setting\"></el-step>\n      </el-steps>\n\n      <el-button style=\"margin-top: 10px\" v-show=\"curStep !== 1\" @click=\"curStep--\">上一步</el-button>\n\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep !== 3\" type=\"primary\" @click=\"curStep++\">下一步\n      </el-button>\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep === 3\" type=\"primary\" @click=\"addExam\">提交\n      </el-button>\n    </el-header>\n\n    <el-main>\n      <!--设置试题信息-->\n      <el-card v-show=\"curStep === 1\">\n\n        <el-radio-group v-model=\"makeModel\"\n                        @change=\"makeModelChange\"\n                        size=\"medium\">\n          <el-radio :label=\"1\" border>题库组卷</el-radio>\n          <el-radio :label=\"2\" border>自由组卷</el-radio>\n        </el-radio-group>\n\n        <span style=\"float: right;color: red;font-weight: bold\" v-show=\"makeModel === 2\">\n          {{ '试卷总分：' + sumTotalScore }}</span>\n\n        <!-- 题库组卷内容-->\n        <div v-show=\"makeModel === 1\" style=\"margin-top: 25px\">\n          <el-button icon=\"el-icon-plus\" size=\"mini\" @click=\"addBank\">添加题库</el-button>\n\n          <!--存放题目的信息-->\n          <el-table :data=\"addExamQuestion\" border style=\"margin-top: 10px\">\n\n            <el-table-column label=\"题库\" width=\"155\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-select clearable v-model=\"scope.row.bankName\" placeholder=\"请选择题库\"\n                           style=\"margin-left: 5px\">\n                  <el-option\n                    v-for=\"item in allBank\"\n                    :key=\"item.questionBank.bankId\"\n                    :label=\"item.questionBank.bankName\"\n                    :value=\"item.questionBank.bankName\">\n                  </el-option>\n                </el-select>\n              </template>\n            </el-table-column>\n\n            <el-table-column label=\"单选题分数\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.singleScore\" style=\"margin-left: 5px\"></el-input>\n              </template>\n            </el-table-column>\n\n            <el-table-column label=\"多选题分数\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.multipleScore\" style=\"margin-left: 5px\"></el-input>\n              </template>\n            </el-table-column>\n\n            <el-table-column label=\"判断题分数\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.judgeScore\" style=\"margin-left: 5px\"></el-input>\n              </template>\n            </el-table-column>\n\n            <el-table-column label=\"简答题分数\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.shortScore\" style=\"margin-left: 5px\"></el-input>\n              </template>\n            </el-table-column>\n\n            <el-table-column label=\"操作\" width=\"80\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"delBank(scope.row.bankId)\"></el-button>\n              </template>\n            </el-table-column>\n\n          </el-table>\n        </div>\n\n        <!-- 自由组卷内容-->\n        <div v-show=\"makeModel === 2\">\n          <el-card>\n            <h1>题目列表</h1>\n            <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"showAddDialog\">添加试题</el-button>\n\n            <el-table :data=\"addExamQuestion2\" border style=\"margin-top: 10px\">\n\n              <el-table-column\n                type=\"index\"\n                label=\"序号\"\n                width=\"50\">\n              </el-table-column>\n\n              <el-table-column label=\"题目内容\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.questionContent }}\n                </template>\n              </el-table-column>\n\n              <el-table-column align=\"center\"\n                               label=\"题目类型\">\n                <template slot-scope=\"scope\">\n                  <span v-if=\"scope.row.questionType === 1\">单选题</span>\n                  <span v-else-if=\"scope.row.questionType === 2\">多选题</span>\n                  <span v-else-if=\"scope.row.questionType === 3\">判断题</span>\n                  <span v-else-if=\"scope.row.questionType === 4\">简答题</span>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"单题分数\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-input v-model=\"scope.row.score\" style=\"margin-left: 5px\"></el-input>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"操作\" width=\"80\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle\n                             @click=\"delQuestion(scope.row.questionId)\"></el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n\n          </el-card>\n        </div>\n      </el-card>\n\n      <!--设置考试权限-->\n      <el-card v-show=\"curStep === 2\">\n        <el-radio-group v-model=\"examAuthority\" size=\"medium\">\n          <el-radio :label=\"1\" border>完全公开</el-radio>\n          <el-radio :label=\"2\" border>需要密码</el-radio>\n        </el-radio-group>\n\n        <el-alert style=\"margin-top: 15px\"\n                  :title=\"examAuthority === 1? '开放的，任何人都可以进行考试！' : '半开放的，知道密码的人员才可以考试！'\"\n                  type=\"warning\">\n        </el-alert>\n\n        <el-input style=\"margin-top: 15px;width: 20%\" v-model=\"examPassword\" v-show=\"examAuthority === 2\"\n                  type=\"password\" show-password placeholder=\"输入考试密码\"></el-input>\n      </el-card>\n\n      <!--设置考试信息-->\n      <el-card v-show=\"curStep === 3\">\n\n        <el-form :model=\"examInfo\" :rules=\"examInfoRules\" ref=\"examInfoForm\" label-width=\"100px\">\n\n          <el-form-item label=\"考试名称\" prop=\"examName\">\n            <el-input v-model=\"examInfo.examName\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"考试描述\" prop=\"examDesc\">\n            <el-input v-model=\"examInfo.examDesc\"></el-input>\n          </el-form-item>\n\n          <el-form-item v-show=\"makeModel === 2\" label=\"总分数\" prop=\"totalScore\">\n            <el-input-number :value=\"sumTotalScore\" :disabled=\"true\"></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"及格分数\" prop=\"passScore\">\n            <el-input-number v-model=\"examInfo.passScore\" :min=\"1\" :max=\"parseInt(sumTotalScore)\"></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"考试时长(分钟)\" prop=\"examDuration\">\n            <el-input-number v-model=\"examInfo.examDuration\" :min=\"1\" :max=\"120\"></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"考试开始时间\" prop=\"startTime\">\n            <el-date-picker style=\"margin-left: 5px\"\n                            v-model=\"examInfo.startTime\"\n                            type=\"date\" placeholder=\"考试开始时间\">\n            </el-date-picker>\n          </el-form-item>\n\n          <el-form-item label=\"考试结束时间\" prop=\"endTime\">\n            <el-date-picker style=\"margin-left: 5px\"\n                            v-model=\"examInfo.endTime\"\n                            type=\"date\" placeholder=\"考试结束时间\">\n            </el-date-picker>\n          </el-form-item>\n\n        </el-form>\n\n      </el-card>\n    </el-main>\n\n    <el-dialog title=\"添加题目\" :visible.sync=\"showQuestionDialog\" width=\"80%\" center>\n      <el-row>\n        <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.questionType\" placeholder=\"请选择题目类型\">\n          <el-option\n            v-for=\"item in questionType\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n\n        <el-select @change=\"bankChange\" clearable v-model=\"queryInfo.questionBank\" placeholder=\"请选择题库\"\n                   style=\"margin-left: 5px\">\n          <el-option\n            v-for=\"item in allBank\"\n            :key=\"item.questionBank.bankId\"\n            :label=\"item.questionBank.bankName\"\n            :value=\"item.questionBank.bankName\">\n          </el-option>\n        </el-select>\n\n        <el-input v-model=\"queryInfo.questionContent\" @blur=\"getQuestionInfo\" placeholder=\"题目内容\"\n                  style=\"margin-left: 5px;width: 220px\"\n                  prefix-icon=\"el-icon-search\"></el-input>\n        <el-button type=\"primary\" @click=\"addQuToFree\" style=\"float: right\">确认{{ selectedTable.length }}项</el-button>\n      </el-row>\n\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"questionInfo\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;margin-top: 25px;\" @selection-change=\"handleTableSectionChange\">\n\n        <el-table-column align=\"center\"\n                         type=\"selection\"\n                         width=\"55\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"题目类型\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.quType === 1\">单选题</span>\n            <span v-else-if=\"scope.row.quType === 2\">多选题</span>\n            <span v-else-if=\"scope.row.quType === 3\">判断题</span>\n            <span v-else-if=\"scope.row.quType === 4\">简答题</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"题目内容\">\n          <template slot-scope=\"scope\">\n            <span class=\"quContent\">{{ scope.row.quContent }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"难度\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.level === 1\">简单</span>\n            <span v-if=\"scope.row.level === 2\">中等</span>\n            <span v-if=\"scope.row.level === 3\">困难</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         prop=\"quBankName\"\n                         label=\"所属题库\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         prop=\"createPerson\"\n                         label=\"创建人\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.createTime }}\n          </template>\n        </el-table-column>\n\n\n      </el-table>\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-dialog>\n\n  </el-container>\n</template>\n\n<script>\nimport questionBankApi from '@/api/questionBank'\nimport question from '@/api/question'\nimport utils from '@/utils/utils'\nimport examApi from '@/api/exam'\n\nexport default {\n  name: 'AddExam',\n  data () {\n    return {\n      //查询题目的参数\n      queryInfo: {\n        //题目类型下拉款所选的内容\n        'questionType': '',\n        'questionBank': '',\n        'questionContent': '',\n        'pageNo': 1,\n        'pageSize': 10\n      },\n      //题目类型\n      questionType: [\n        {\n          id: 1,\n          name: '单选题',\n        },\n        {\n          id: 2,\n          name: '多选题',\n        },\n        {\n          id: 3,\n          name: '判断题',\n        },\n        {\n          id: 4,\n          name: '简答题',\n        },\n      ],\n      //当前的步骤\n      curStep: 1,\n      //组卷模式\n      makeModel: 1,\n      //添加考试题目信息(makeModel = 1的时候)\n      addExamQuestion: [],\n      //所有题库信息\n      allBank: [],\n      //添加考试题目信息(makeModel = 2 的时候)\n      addExamQuestion2: [],\n      //所有题目的对话框\n      showQuestionDialog: false,\n      //对话框中题目表格的加载\n      loading: true,\n      //所有题目的信息\n      questionInfo: [],\n      //所有题目的对话框中表格被选中\n      selectedTable: [],\n      //所有题目总数\n      total: 0,\n      //考试权限(1公开, 2密码)\n      examAuthority: 1,\n      //考试密码(权限为2时的密码)\n      examPassword: '',\n      //补充的考试信息\n      examInfo: {\n        'examId': '',\n        'examDesc': '',\n        'passScore': 0,\n        'examDuration': 0,\n        'startTime': '',\n        'endTime': ''\n      },\n      //补充的考试信息的表单验证\n      examInfoRules: {\n        examName: [\n          {\n            required: true,\n            message: '请输入考试名称',\n            trigger: 'blur'\n          }\n        ],\n        passScore: [\n          {\n            required: true,\n            message: '请输入通过分数',\n            trigger: 'blur'\n          }\n        ],\n        examDuration: [\n          {\n            required: true,\n            message: '请输入考试时长',\n            trigger: 'blur'\n          }\n        ],\n      },\n    }\n  },\n  props: ['tagInfo'],\n  created () {\n    //一创建就改变头部的面包屑\n    this.$emit('giveChildChangeBreakInfo', '添加考试', '添加考试')\n    this.createTagsInParent()\n    this.getBankInfo()\n  },\n  methods: {\n    //向父组件中添加头部的tags标签\n    createTagsInParent () {\n      let flag = false\n      this.tagInfo.map(item => {\n        //如果tags全部符合\n        if (item.name === '添加考试' && item.url === this.$route.path) {\n          flag = true\n        } else if (item.name === '添加考试' && item.url !== this.$route.path) {\n          this.$emit('updateTagInfo', '添加考试', this.$route.path)\n          flag = true\n        }\n      })\n      if (!flag) this.$emit('giveChildAddTag', '添加考试', this.$route.path)\n    },\n    //获取所有的题库信息\n    getBankInfo () {\n      questionBankApi.getBankHaveQuestionSumByType({\n          'pageNo': 1,\n          'pageSize': 9999\n        }).then((resp) => {\n        if (resp.code === 200) {\n          this.allBank = resp.data.data\n        } else {\n          this.$notify({\n            title: 'Tips',\n            message: resp.message,\n            type: 'error',\n            duration: 2000\n          })\n        }\n      })\n    },\n    //删除当前需要去除的题库\n    delBank (bankId) {\n      this.addExamQuestion.forEach((item, index) => {\n        if (item.bankId === bankId) this.addExamQuestion.splice(index, 1)\n      })\n    },\n    //添加题库组卷中的题库\n    addBank () {\n      this.addExamQuestion.push(\n        {\n          'bankName': '',\n          'singleScore': 1,\n          'multipleScore': 1,\n          'judgeScore': 1,\n          'shortScore': 1\n        })\n    },\n    //自由组卷时添加试题\n    showAddDialog () {\n      this.showQuestionDialog = true\n      this.getQuestionInfo()\n    },\n    //自由组卷时删除试题\n    delQuestion (questionId) {\n      this.addExamQuestion2.forEach((item, index) => {\n        if (item.questionId === questionId) this.addExamQuestion2.splice(index, 1)\n      })\n    },\n    //题目类型变化\n    typeChange (val) {\n      this.queryInfo.questionType = val\n      this.getQuestionInfo()\n    },\n    //题库变化\n    bankChange (val) {\n      this.queryInfo.questionBank = val\n      this.getQuestionInfo()\n    },\n    //获取题目信息\n    getQuestionInfo () {\n      question.getQuestion(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          this.questionInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        } else {\n          this.$notify({\n            title: 'Tips',\n            message: '获取题库信息失败',\n            type: 'error',\n            duration: 2000\n          })\n        }\n      })\n    },\n    //处理表格被选中\n    handleTableSectionChange (val) {\n      this.selectedTable = val\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getQuestionInfo()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getQuestionInfo()\n    },\n    //自由组卷中选中的题目添加进去\n    addQuToFree () {\n      this.selectedTable.forEach(item => {\n        if (!this.addExamQuestion2.some(i2 => {\n          return i2.questionId === item.id\n        })) {//不存在有当前题目\n          this.addExamQuestion2.push({\n            'questionId': item.id,\n            'questionContent': item.quContent,\n            'questionType': item.quType,\n            'score': 1\n          })\n        }\n      })\n      this.showQuestionDialog = false\n    },\n    //组卷模式变化\n    makeModelChange () {\n      this.$confirm('此操作将丢失当前组卷数据, 是否继续?', 'Tips', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.makeModel === 1 ? this.addExamQuestion2 = [] : this.addExamQuestion = []\n      }).catch(() => {\n      })\n    },\n    //添加考试\n    addExam () {\n      utils.validFormAndInvoke(this.$refs['examInfoForm'], () => {\n        if (this.addExamQuestion.length !== 0 || this.addExamQuestion2.length !== 0) {\n          //构造数据对象(考试信息)\n          let exam = this.examInfo\n          exam.totalScore = this.sumTotalScore\n          exam.status = 1\n          //权限id设置\n          exam.type = this.examAuthority\n          if (this.examAuthority === 2) {//考试密码\n            if (this.examPassword === '') {// 当前用户选择了需要密码权限,但是密码为空\n              this.$message.error('当前权限为需要密码,但是密码为空')\n              return false\n            }\n            exam.password = this.examPassword\n          }\n          //题库组卷模式\n          if (this.makeModel === 1 && !this.addExamQuestion.some(item => item.bankId === '')) {\n            console.log(this.addExamQuestion)\n            let bankNames = []\n            this.addExamQuestion.forEach(item => bankNames.push(item.bankName))\n            exam.bankNames = bankNames.join(',')\n            exam.singleScore = this.addExamQuestion[0].singleScore\n            exam.multipleScore = this.addExamQuestion[0].multipleScore\n            exam.judgeScore = this.addExamQuestion[0].judgeScore\n            exam.shortScore = this.addExamQuestion[0].shortScore\n            examApi.addExamByBank(exam).then((resp) => {\n              if (resp.code === 200) this.$router.push('/examManage')\n            })\n          } else if (this.makeModel === 2) {//自由组卷模式\n            //题目id数组\n            let questionIds = []\n            //题目成绩数组\n            let scores = []\n            this.addExamQuestion2.forEach(item => {\n              questionIds.push(item.questionId)\n              scores.push(item.score)\n            })\n            exam.questionIds = questionIds.join(',')\n            exam.scores = scores.join(',')\n            console.log(exam)\n            examApi.addExamByQuestionList(exam).then((resp) => {\n              if (resp.code === 200) this.$router.push('/examManage')\n            })\n          } else {\n            this.$message.error('请检查考试规则设置是否完整')\n          }\n        }\n      }, '请检查考试规则设置是否完整')\n    }\n  },\n  computed: {\n    //计算总分\n    sumTotalScore () {\n      if (this.makeModel === 2) {\n        let score = 0\n        this.addExamQuestion2.forEach(item => {\n          score += parseInt(item.score)\n        })\n        return score\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/addExam\";\n</style>\n"]}]}