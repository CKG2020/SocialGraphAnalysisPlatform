{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/QuestionManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/QuestionManage.vue","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcXVlc3Rpb25CYW5rIGZyb20gJ0AvYXBpL3F1ZXN0aW9uQmFuayc7CmltcG9ydCBxdWVzdGlvbiBmcm9tICdAL2FwaS9xdWVzdGlvbic7CmltcG9ydCB1dGlscyBmcm9tICdAL3V0aWxzL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdRdWVzdGlvbk1hbmFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v5p+l6K+i55So5oi355qE5Y+C5pWwCiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIC8v6aKY55uu57G75Z6L5LiL5ouJ5qy+5omA6YCJ55qE5YaF5a65CiAgICAgICAgJ3F1ZXN0aW9uVHlwZSc6ICcnLAogICAgICAgICdxdWVzdGlvbkJhbmsnOiAnJywKICAgICAgICAncXVlc3Rpb25Db250ZW50JzogJycsCiAgICAgICAgJ3BhZ2VObyc6IDEsCiAgICAgICAgJ3BhZ2VTaXplJzogMTAKICAgICAgfSwKICAgICAgLy/popjnm67nsbvlnosKICAgICAgcXVlc3Rpb25UeXBlOiBbewogICAgICAgIGlkOiAxLAogICAgICAgIG5hbWU6ICfljZXpgInpopgnCiAgICAgIH0sIHsKICAgICAgICBpZDogMiwKICAgICAgICBuYW1lOiAn5aSa6YCJ6aKYJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDMsCiAgICAgICAgbmFtZTogJ+WIpOaWremimCcKICAgICAgfSwgewogICAgICAgIGlkOiA0LAogICAgICAgIG5hbWU6ICfnroDnrZTpopgnCiAgICAgIH1dLAogICAgICAvL+mimOW6k+S/oeaBrwogICAgICBhbGxCYW5rOiBbXSwKICAgICAgLy/popjnm67kv6Hmga8KICAgICAgcXVlc3Rpb25JbmZvOiBbXSwKICAgICAgLy/popjnm67kv6Hmga/ooajmoLzmmK/lkKbliqDovb0KICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy/ooajmoLzooqvpgInkuK3nmoTmiYDmnInooYwKICAgICAgc2VsZWN0aW9uVGFibGU6IFtdLAogICAgICAvL+ihqOagvOihjOiiq+mAieS4reWQjueahOaJgOacieaTjeS9nOaWueW8j+eahOaVsOaNrgogICAgICBvcHRpb25JbmZvOiBbewogICAgICAgICdsYWJlbCc6ICfliKDpmaQnLAogICAgICAgICdkZXNjJzogJ2RlbGV0ZScKICAgICAgfSwgewogICAgICAgICdsYWJlbCc6ICfliqDlhaXpopjlupMnLAogICAgICAgICdkZXNjJzogJ2FkZCcKICAgICAgfSwgewogICAgICAgICdsYWJlbCc6ICfpopjlupPkuK3np7vpmaQnLAogICAgICAgICdkZXNjJzogJ3JlbW92ZScKICAgICAgfV0sCiAgICAgIC8v6KGo5qC86KGM6KKr6YCJ5Lit5ZCO55qE5pWw5o2uCiAgICAgIG9wZXJhdGlvbjogJycsCiAgICAgIC8v6aKY55uu5oC75pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvL+aYr+WQpuaYvuekuuWKoOWFpemimOW6k+WvueivneahhgogICAgICBhZGRUYWJsZVZpc2libGU6IGZhbHNlLAogICAgICAvL+aYr+WQpuaYvuekuuenu+mZpOmimOW6k+WvueivneahhgogICAgICByZW1vdmVUYWJsZVZpc2libGU6IGZhbHNlLAogICAgICAvL+aYr+WQpuaYvuekuua3u+WKoOmimOebrueahOWvueivneahhgogICAgICBhZGRRdVRhYmxlVmlzaWJsZTogZmFsc2UsCiAgICAgIC8v5re75Yqg6aKY5bqT55qE6KGo5Y2V5L+h5oGvCiAgICAgIGFkZEZvcm06IHsKICAgICAgICBiYW5rSWQ6ICcnCiAgICAgIH0sCiAgICAgIHJlbW92ZUZvcm06IHsKICAgICAgICBiYW5rSWQ6ICcnCiAgICAgIH0sCiAgICAgIC8v5re75Yqg6aKY5bqT6KGo5Y2V55qE6aqM6K+BCiAgICAgIGFkZEZvcm1SdWxlczogewogICAgICAgIGJhbmtJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqemcgOimgea3u+WKoOi/m+eahOmimOW6kycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvL+enu+mZpOmimOW6k+ihqOWNleeahOmqjOivgQogICAgICByZW1vdmVGb3JtUnVsZXM6IHsKICAgICAgICBiYW5rSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npnIDopoHnp7vpmaTnmoTpopjlupMnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy/mt7vliqDpopjnm67nmoTooajljZXkv6Hmga8KICAgICAgYWRkUXVGb3JtOiB7CiAgICAgICAgcXVlc3Rpb25UeXBlOiAxLAogICAgICAgIHF1ZXN0aW9uTGV2ZWw6IDEsCiAgICAgICAgYmFua0lkOiAnJywKICAgICAgICBxdWVzdGlvbkNvbnRlbnQ6ICcnLAogICAgICAgIGltYWdlczogW10sCiAgICAgICAgYW5hbHlzaXM6ICcnLAogICAgICAgIGNyZWF0ZVBlcnNvbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyksCiAgICAgICAgLy/nrZTmoYjlr7nosaEKICAgICAgICBhbnN3ZXI6IFtdCiAgICAgIH0sCiAgICAgIC8v5re75Yqg6aKY55uu6KGo5Y2V55qE6aqM6K+B6KeE5YiZCiAgICAgIGFkZFF1Rm9ybVJ1bGVzOiB7CiAgICAgICAgcXVlc3Rpb25UeXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6Zeu6aKY57G75Z6LJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHF1ZXN0aW9uTGV2ZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npl67popjpmr7luqYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgYmFua0lkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6aKY5bqTJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHF1ZXN0aW9uQ29udGVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemimOW6k+WGheWuuScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvL+abtOaWsOmimOebruihqOWNleeahOmqjOivgeinhOWImQogICAgICB1cGRhdGVRdUZvcm1SdWxlczogewogICAgICAgIHF1ZXN0aW9uVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqemXrumimOexu+WeiycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBxdWVzdGlvbkxldmVsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6Zeu6aKY6Zq+5bqmJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGJhbmtJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqemimOW6kycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBxdWVzdGlvbkNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpopjlupPlhoXlrrknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy/lm77niYflm57mmL7nmoTmoLflvI8KICAgICAgYmFja1Nob3dJbWdWaXNpYmxlOiBmYWxzZSwKICAgICAgLy/lm77niYflm57mmL7nmoTlm77niYflnLDlnYAKICAgICAgYmFja1Nob3dJbWdVcmw6ICcnLAogICAgICAvL+abtOaWsOmimOebrueahOaVsOaNruS/oeaBrwogICAgICB1cGRhdGVRdUZvcm06IHsKICAgICAgICBxdWVzdGlvbklkOiAnJywKICAgICAgICBxdWVzdGlvblR5cGU6IDEsCiAgICAgICAgcXVlc3Rpb25MZXZlbDogMSwKICAgICAgICBiYW5rSWQ6ICcnLAogICAgICAgIHF1ZXN0aW9uQ29udGVudDogJycsCiAgICAgICAgaW1hZ2VzOiBbXSwKICAgICAgICBhbmFseXNpczogJycsCiAgICAgICAgY3JlYXRlUGVyc29uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSwKICAgICAgICAvL+etlOahiOWvueixoQogICAgICAgIGFuc3dlcjogW10KICAgICAgfSwKICAgICAgLy/mmK/lkKbmmL7npLrmm7TmlrDpopjnm67nmoTlr7nor53moYYKICAgICAgdXBkYXRlUXVUYWJsZVZpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UXVlc3Rpb25CYW5rSW5mbygpOwogICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W5omA5pyJ55qE6aKY5bqT5L+h5oGvCiAgICBnZXRRdWVzdGlvbkJhbmtJbmZvOiBmdW5jdGlvbiBnZXRRdWVzdGlvbkJhbmtJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcXVlc3Rpb25CYW5rLmdldFF1ZXN0aW9uQmFuaygpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmFsbEJhbmsgPSByZXNwLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+mimOebruexu+Wei+WPmOWMlgogICAgdHlwZUNoYW5nZTogZnVuY3Rpb24gdHlwZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucXVlc3Rpb25UeXBlID0gdmFsOwogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpOwogICAgfSwKICAgIC8v6aKY5bqT5Y+Y5YyWCiAgICBiYW5rQ2hhbmdlOiBmdW5jdGlvbiBiYW5rQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5xdWVzdGlvbkJhbmsgPSB2YWw7CiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICB9LAogICAgLy/popjnm67lkI3lrZfnrZvpgIkKICAgIGNvbnRlbnRDaGFuZ2U6IGZ1bmN0aW9uIGNvbnRlbnRDaGFuZ2UoKSB7CiAgICAgIC8v5Y+R6YCB5p+l6K+i6aKY55uu5oC75pWw55qE6K+35rGCCiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICB9LAogICAgLy/ojrflj5bpopjnm67kv6Hmga8KICAgIGdldFF1ZXN0aW9uSW5mbzogZnVuY3Rpb24gZ2V0UXVlc3Rpb25JbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uKHRoaXMucXVlcnlJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIucXVlc3Rpb25JbmZvID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICBfdGhpczIudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/lpITnkIbooajmoLzooqvpgInkuK0KICAgIGhhbmRsZVRhYmxlU2VjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnNlbGVjdGlvblRhYmxlID0gdmFsOwogICAgfSwKICAgIC8v5aSE55CG5pON5L2c6YCJ5oup5qGG55qE5Y+Y5YyWCiAgICBvcGVyYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9wZXJhdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvL+a4heepuuS4iuS4gOasoeeahOmAieaLqQogICAgICB0aGlzLm9wZXJhdGlvbiA9ICcnOwogICAgICB2YXIgcXVlc3Rpb25JZHMgPSBbXTsKCiAgICAgIGlmICh2YWwgPT09ICdkZWxldGUnKSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25UYWJsZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfSk7IC8v5Y+R6LW35Yig6Zmk6K+35rGCCgogICAgICAgIHF1ZXN0aW9uLmRlbGV0ZVF1ZXN0aW9uKHsKICAgICAgICAgICdxdWVzdGlvbklkcyc6IHF1ZXN0aW9uSWRzLmpvaW4oJywnKQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnYWRkJykgewogICAgICAgIHRoaXMuYWRkVGFibGVWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh2YWwgPT09ICdyZW1vdmUnKSB7CiAgICAgICAgdGhpcy5yZW1vdmVUYWJsZVZpc2libGUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy/liIbpobXpobXpnaLlpKflsI/mlLnlj5gKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpOwogICAgfSwKICAgIC8v5YiG6aG15o+S5Lu255qE6aG15pWwCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTm8gPSB2YWw7CiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICB9LAogICAgLy/ooajljZXkv6Hmga/ph43nva4KICAgIHJlc2V0QWRkRm9ybTogZnVuY3Rpb24gcmVzZXRBZGRGb3JtKCkgewogICAgICAvL+a4heepuuihqOagvOaVsOaNrgogICAgICB0aGlzLiRyZWZzWydhZGRGb3JtJ10ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICByZXNldFJlbW92ZUZvcm06IGZ1bmN0aW9uIHJlc2V0UmVtb3ZlRm9ybSgpIHsKICAgICAgLy/muIXnqbrooajmoLzmlbDmja4KICAgICAgdGhpcy4kcmVmc1sncmVtb3ZlRm9ybSddLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgcmVzZXRBZGRRdUZvcm06IGZ1bmN0aW9uIHJlc2V0QWRkUXVGb3JtKCkgewogICAgICB0aGlzLiRyZWZzWydhZGRRdUZvcm0nXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIC8v5o+Q5Lqk5Yqg5YWl6aKY5bqT55qE6KGo5Y2V5L+h5oGvCiAgICBhZGRCYW5rOiBmdW5jdGlvbiBhZGRCYW5rKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzWydhZGRGb3JtJ10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcXVlc3Rpb25JZHMgPSBbXTsKICAgICAgICB2YXIgYmFua3MgPSBfdGhpczQuYWRkRm9ybS5iYW5rSWQ7IC8v5bCG6KGo5qC86YCJ5Lit55qE5pWw5o2u5Lit55qE6Zeu6aKYaWTliqDlhaXov5vljrsKCiAgICAgICAgX3RoaXM0LnNlbGVjdGlvblRhYmxlLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcXVlc3Rpb25JZHMucHVzaChpdGVtLmlkKTsKICAgICAgICB9KTsKCiAgICAgICAgcXVlc3Rpb25CYW5rLmFkZEJhbmtRdWVzdGlvbih7CiAgICAgICAgICAncXVlc3Rpb25JZHMnOiBxdWVzdGlvbklkcy5qb2luKCcsJyksCiAgICAgICAgICAnYmFua3MnOiBiYW5rcy5qb2luKCcsJykKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXM0LmdldFF1ZXN0aW9uSW5mbygpOwoKICAgICAgICAgICAgX3RoaXM0LiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcC5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczQuYWRkVGFibGVWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0sICfor7fpgInmi6npnIDopoHliqDlhaXov5vnmoTpopjlupMnKTsKICAgIH0sCiAgICAvL+aPkOS6pOenu+mZpOmimOW6k+eahOihqOWNleS/oeaBrwogICAgcmVtb3ZlQmFuazogZnVuY3Rpb24gcmVtb3ZlQmFuaygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB1dGlscy52YWxpZEZvcm1BbmRJbnZva2UodGhpcy4kcmVmc1sncmVtb3ZlRm9ybSddLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHF1ZXN0aW9uSWRzID0gW107CiAgICAgICAgdmFyIGJhbmtzID0gX3RoaXM1LnJlbW92ZUZvcm0uYmFua0lkOyAvL+WwhuihqOagvOmAieS4reeahOaVsOaNruS4reeahOmXrumimGlk5Yqg5YWl6L+b5Y67CgogICAgICAgIF90aGlzNS5zZWxlY3Rpb25UYWJsZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfSk7IC8v5Y+R6LW356e76Zmk6K+35rGCCgoKICAgICAgICBxdWVzdGlvbkJhbmsucmVtb3ZlQmFua1F1ZXN0aW9uKHsKICAgICAgICAgICdxdWVzdGlvbklkcyc6IHF1ZXN0aW9uSWRzLmpvaW4oJywnKSwKICAgICAgICAgICdiYW5rcyc6IGJhbmtzLmpvaW4oJywnKQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczUuZ2V0UXVlc3Rpb25JbmZvKCk7CgogICAgICAgICAgICBfdGhpczUuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS5yZW1vdmVUYWJsZVZpc2libGUgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSwgJ+ivt+mAieaLqemcgOimgeenu+mZpOeahOmimOW6kycpOwogICAgfSwKICAgIC8v5paw5aKe6aKY55uu5LiK5Lyg5ZCOIOeCueWHu+WbvueJh+eahOWbnuaYvgogICAgdXBsb2FkUHJldmlldzogZnVuY3Rpb24gdXBsb2FkUHJldmlldyhmaWxlKSB7CiAgICAgIHRoaXMuYmFja1Nob3dJbWdVcmwgPSBmaWxlLnJlc3BvbnNlLmRhdGE7CiAgICAgIHRoaXMuYmFja1Nob3dJbWdWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvL+aWsOWinumimOebruS4reeahOS4iuS8oOWbvueJh+eahOenu+mZpAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmFkZFF1Rm9ybS5pbWFnZXMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIC8v56e76Zmk5Zu+54mH5Zyo6KGo5Y2V5Lit55qE5pWw5o2uCiAgICAgICAgaWYgKGl0ZW0gPT09IGZpbGUucmVzcG9uc2UuZGF0YSkgX3RoaXM2LmFkZFF1Rm9ybS5pbWFnZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mm7TmlrDpopjnm67kuK3nmoTkuIrkvKDlm77niYfnmoTnp7vpmaQKICAgIGhhbmRsZVVwZGF0ZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy51cGRhdGVRdUZvcm0uaW1hZ2VzLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAvL+enu+mZpOWbvueJh+WcqOihqOWNleS4reeahOaVsOaNrgogICAgICAgIGlmIChpdGVtID09PSBmaWxlLnJlc3BvbnNlLmRhdGEpIF90aGlzNy51cGRhdGVRdUZvcm0uaW1hZ2VzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5paw5aKe6aKY55uu5Lit55qE5LiK5Lyg5Zu+54mH55qE5qC85byP5aSn5bCP6ZmQ5Yi2CiAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBpc0ltZyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnIHx8IGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZycgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvanBnJzsKICAgICAgdmFyIGlzTHQgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEwOwoKICAgICAgaWYgKCFpc0ltZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+WPquiDveaYryBKUEcvUE5HIOagvOW8jyEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0KSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDEwTUIhJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpc0ltZyAmJiBpc0x0OwogICAgfSwKICAgIC8v5paw5aKe6aKY55uu5Lit55qE5LiK5Lyg5Zu+54mH5oiQ5Yqf5ZCO55qE6ZKp5a2Q5Ye95pWwCiAgICB1cGxvYWRJbWdTdWNjZXNzOiBmdW5jdGlvbiB1cGxvYWRJbWdTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmFkZFF1Rm9ybS5pbWFnZXMucHVzaChyZXNwb25zZS5kYXRhKTsKICAgIH0sCiAgICAvL+abtOaWsOmimOebruS4reeahOS4iuS8oOWbvueJh+aIkOWKn+WQjueahOmSqeWtkOWHveaVsAogICAgdXBkYXRlVXBsb2FkSW1nU3VjY2VzczogZnVuY3Rpb24gdXBkYXRlVXBsb2FkSW1nU3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy51cGRhdGVRdUZvcm0uaW1hZ2VzLnB1c2gocmVzcG9uc2UuZGF0YSk7CiAgICB9LAogICAgLy/mlrDlop7popjnm67kuK3nmoTmlrDlop7nrZTmoYjloavlhpnmoYYKICAgIGFkZEFuc3dlcjogZnVuY3Rpb24gYWRkQW5zd2VyKCkgewogICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIucHVzaCh7CiAgICAgICAgaWQ6IHRoaXMuYWRkUXVGb3JtLmFuc3dlci5sZW5ndGgsCiAgICAgICAgaXNUcnVlOiBmYWxzZSwKICAgICAgICBhbnN3ZXI6ICcnLAogICAgICAgIGltYWdlczogW10sCiAgICAgICAgYW5hbHlzaXM6ICcnCiAgICAgIH0pOwogICAgfSwKICAgIC8v5pu05paw5pe25paw5aKe6aKY55uu5Lit55qE5paw5aKe562U5qGI5aGr5YaZ5qGGCiAgICBhZGRVcGRhdGVBbnN3ZXI6IGZ1bmN0aW9uIGFkZFVwZGF0ZUFuc3dlcigpIHsKICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLnB1c2goewogICAgICAgIGlkOiB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIubGVuZ3RoLAogICAgICAgIGlzVHJ1ZTogZmFsc2UsCiAgICAgICAgYW5zd2VyOiAnJywKICAgICAgICBpbWFnZXM6IFtdLAogICAgICAgIGFuYWx5c2lzOiAnJwogICAgICB9KTsKICAgIH0sCiAgICAvL+aWsOWinumimOebruS4reeahOWIoOmZpOetlOahiOWhq+WGmeahhgogICAgZGVsQW5zd2VyOiBmdW5jdGlvbiBkZWxBbnN3ZXIoaWQpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICAvL+W9k+WJjeetlOahiOeahGlkCiAgICAgIHRoaXMuYWRkUXVGb3JtLmFuc3dlci5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSBfdGhpczguYWRkUXVGb3JtLmFuc3dlci5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+aWsOWinumimOebruS4reeahOWIoOmZpOetlOahiOWhq+WGmeahhgogICAgZGVsVXBkYXRlQW5zd2VyOiBmdW5jdGlvbiBkZWxVcGRhdGVBbnN3ZXIoaWQpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICAvL+W9k+WJjeetlOahiOeahGlkCiAgICAgIHRoaXMudXBkYXRlUXVGb3JtLmFuc3dlci5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSBfdGhpczkudXBkYXRlUXVGb3JtLmFuc3dlci5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+etlOahiOS4iuS8oOeFp+eJh+S6hgogICAgdXBsb2FkQW5zd2VySW1nU3VjY2VzczogZnVuY3Rpb24gdXBsb2FkQW5zd2VySW1nU3VjY2VzcyhyZXNwb25zZSwgaWQpIHsKICAgICAgdGhpcy5hZGRRdUZvcm0uYW5zd2VyW2lkXS5pbWFnZXMucHVzaChyZXNwb25zZS5kYXRhKTsKICAgIH0sCiAgICAvL+abtOaWsOeahOetlOahiOS4iuS8oOWbvueJh+S6hgogICAgdXBsb2FkVXBkYXRlQW5zd2VySW1nU3VjY2VzczogZnVuY3Rpb24gdXBsb2FkVXBkYXRlQW5zd2VySW1nU3VjY2VzcyhyZXNwb25zZSwgaWQpIHsKICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyW2lkXS5pbWFnZXMucHVzaChyZXNwb25zZS5kYXRhKTsKICAgIH0sCiAgICAvL+etlOahiOS4iuS8oOaIkOWKn+WQjuWIoOmZpAogICAgaGFuZGxlQW5zd2VyUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVBbnN3ZXJSZW1vdmUoZmlsZSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIuaW1hZ2VzLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAvL+enu+mZpOWbvueJh+WcqOihqOWNleS4reeahOaVsOaNrgogICAgICAgIGlmIChpdGVtID09PSBmaWxlLnJlc3BvbnNlLmRhdGEpIF90aGlzMTAuYWRkUXVGb3JtLmltYWdlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+abtOaWsOeahOaXtuWAmeetlOahiOS4iuS8oOaIkOWKn+WQjuWIoOmZpAogICAgaGFuZGxlVXBkYXRlQW5zd2VyUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGVBbnN3ZXJSZW1vdmUoZmlsZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIuaW1hZ2VzLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAvL+enu+mZpOWbvueJh+WcqOihqOWNleS4reeahOaVsOaNrgogICAgICAgIGlmIChpdGVtID09PSBmaWxlLnJlc3BvbnNlLmRhdGEpIF90aGlzMTEudXBkYXRlUXVGb3JtLmltYWdlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+mAieaLqeato+ehruetlOahiOeahOaMiemSruWPmOWMluS6i+S7tgogICAgY2hlY2tBbnN3ZXI6IGZ1bmN0aW9uIGNoZWNrQW5zd2VyKGNoZWNrZWQsIGlkKSB7CiAgICAgIGlmIChjaGVja2VkKSB7CiAgICAgICAgaWYgKHRoaXMuYWRkUXVGb3JtLnF1ZXN0aW9uVHlwZSA9PT0gMSB8fCB0aGlzLmFkZFF1Rm9ybS5xdWVzdGlvblR5cGUgPT09IDMpIHsKICAgICAgICAgIC8v5Y2V6YCJ5oiW6ICF5Yik5patCiAgICAgICAgICAvL+W9k+WJjeW3sue7j+acieS4gOS4quato+ehrueahOmAieaLqeS6hgogICAgICAgICAgdGhpcy5hZGRRdUZvcm0uYW5zd2VyLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLmlzVHJ1ZSA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBpZCkgaXRlbS5pc1RydWUgPSB0cnVlOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8v5aSa6YCJIOWPr+S7peacieWkmuS4quetlOahiAogICAgICAgICAgdGhpcy5hZGRRdUZvcm0uYW5zd2VyLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+abtOaWsOaXtumAieaLqeato+ehruetlOahiOeahOaMiemSruWPmOWMluS6i+S7tgogICAgY2hlY2tVcGRhdGVBbnN3ZXI6IGZ1bmN0aW9uIGNoZWNrVXBkYXRlQW5zd2VyKGNoZWNrZWQsIGlkKSB7CiAgICAgIGlmIChjaGVja2VkKSB7CiAgICAgICAgaWYgKHRoaXMudXBkYXRlUXVGb3JtLnF1ZXN0aW9uVHlwZSA9PT0gMSB8fCB0aGlzLnVwZGF0ZVF1Rm9ybS5xdWVzdGlvblR5cGUgPT09IDMpIHsKICAgICAgICAgIC8v5Y2V6YCJ5oiW6ICF5Yik5patCiAgICAgICAgICAvL+W9k+WJjeW3sue7j+acieS4gOS4quato+ehrueahOmAieaLqeS6hgogICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLmlzVHJ1ZSA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBpZCkgaXRlbS5pc1RydWUgPSB0cnVlOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8v5aSa6YCJIOWPr+S7peacieWkmuS4quetlOahiAogICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+aWsOWinumimOebrgogICAgYWRkUXVlc3Rpb246IGZ1bmN0aW9uIGFkZFF1ZXN0aW9uKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydhZGRRdUZvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQgJiYgX3RoaXMxMi5hZGRRdUZvcm0uYW5zd2VyLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlzVHJ1ZTsKICAgICAgICB9KSAmJiBfdGhpczEyLmFkZFF1Rm9ybS5xdWVzdGlvblR5cGUgIT09IDQpIHsKICAgICAgICAgIC8v5Y2V6YCJ5oiW6ICF5aSa6YCJ5oiW6ICF5Yik5patCiAgICAgICAgICBxdWVzdGlvbi5hZGRRdWVzdGlvbihfdGhpczEyLmFkZFF1Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICBfdGhpczEyLmFkZFF1VGFibGVWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMTIuZ2V0UXVlc3Rpb25JbmZvKCk7CgogICAgICAgICAgICAgIF90aGlzMTIuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aWsOWinumimOebruaIkOWKnycsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHZhbGlkICYmICFfdGhpczEyLmFkZFF1Rm9ybS5hbnN3ZXIuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaXNUcnVlOwogICAgICAgIH0pICYmIF90aGlzMTIuYWRkUXVGb3JtLnF1ZXN0aW9uVHlwZSAhPT0gNCkgewogICAgICAgICAgLy/ml6DnrZTmoYgKICAgICAgICAgIF90aGlzMTIuJG1lc3NhZ2UuZXJyb3IoJ+W/hemhu+acieS4gOS4quetlOahiCcpOwoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKHZhbGlkICYmIF90aGlzMTIuYWRkUXVGb3JtLnF1ZXN0aW9uVHlwZSA9PT0gNCkgewogICAgICAgICAgLy/nroDnrZTpopgg5peg5qCH5YeG562U5qGI55u05o6l5Y+R6K+35rGCCiAgICAgICAgICAvL+W9k+aYr+eugOetlOmimOeahOaXtuWAmemcgOimgea4hemZpGFuc3dlcgogICAgICAgICAgX3RoaXMxMi5hZGRRdUZvcm0uYW5zd2VyID0gW107CiAgICAgICAgICBxdWVzdGlvbi5hZGRRdWVzdGlvbihfdGhpczEyLmFkZFF1Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICBfdGhpczEyLmFkZFF1VGFibGVWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMTIuZ2V0UXVlc3Rpb25JbmZvKCk7CgogICAgICAgICAgICAgIF90aGlzMTIuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aWsOWinumimOebruaIkOWKnycsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKCF2YWxpZCkgewogICAgICAgICAgX3RoaXMxMi4kbWVzc2FnZS5lcnJvcign6K+35aGr5YaZ5b+F6KaB5L+h5oGvJyk7CgogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/mm7TmlrDpopjnm64KICAgIHVwZGF0ZVF1OiBmdW5jdGlvbiB1cGRhdGVRdShpZCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICBxdWVzdGlvbi5nZXRRdWVzdGlvbkJ5SWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIGlmIChyZXNwLmRhdGEucXVlc3Rpb25UeXBlICE9PSA0KSB7CiAgICAgICAgICAgIHJlc3AuZGF0YS5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaXRlbS5pc1RydWUgPSBpdGVtLmlzVHJ1ZSA9PT0gJ3RydWUnOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczEzLnVwZGF0ZVF1Rm9ybSA9IHJlc3AuZGF0YTsgLy/lpITnkIblm77niYfpgqPkuKrlj4LmlbDmmK/kuKrmlbDnu4QKCiAgICAgICAgICBpZiAoX3RoaXMxMy51cGRhdGVRdUZvcm0uaW1hZ2VzID09PSBudWxsKSBfdGhpczEzLnVwZGF0ZVF1Rm9ybS5pbWFnZXMgPSBbXTsKCiAgICAgICAgICBpZiAocmVzcC5kYXRhLnF1ZXN0aW9uVHlwZSAhPT0gNCkgewogICAgICAgICAgICBfdGhpczEzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uaW1hZ2VzID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICBpdGVtLmltYWdlcyA9IFtdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVRdVRhYmxlVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy/mj5DkuqTmm7TmlrDooajljZUKICAgIHVwZGF0ZVF1ZXN0aW9uOiBmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbigpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sndXBkYXRlUXVGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkICYmIF90aGlzMTQudXBkYXRlUXVGb3JtLnF1ZXN0aW9uVHlwZSAhPT0gNCAmJiBfdGhpczE0LnVwZGF0ZVF1Rm9ybS5hbnN3ZXIuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaXNUcnVlOwogICAgICAgIH0pKSB7CiAgICAgICAgICAvL+WNlemAieaIluiAheWkmumAieaIluiAheWIpOaWrQogICAgICAgICAgLy/kv53or4HnrZTmoYjnmoTlm77niYflj6rmnInkuIDlvKAKICAgICAgICAgIF90aGlzMTQudXBkYXRlUXVGb3JtLmFuc3dlci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaW1hZ2VzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICBpdGVtLmltYWdlcy5zcGxpY2UoMCwgaXRlbS5pbWFnZXMubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIHF1ZXN0aW9uLnVwZGF0ZVF1ZXN0aW9uKF90aGlzMTQudXBkYXRlUXVGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzMTQudXBkYXRlUXVUYWJsZVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgX3RoaXMxNC5nZXRRdWVzdGlvbkluZm8oKTsKCiAgICAgICAgICAgICAgX3RoaXMxNC4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pu05paw6aKY55uu5oiQ5YqfJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodmFsaWQgJiYgX3RoaXMxNC51cGRhdGVRdUZvcm0ucXVlc3Rpb25UeXBlICE9PSA0ICYmICFfdGhpczE0LnVwZGF0ZVF1Rm9ybS5hbnN3ZXIuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaXNUcnVlOwogICAgICAgIH0pKSB7CiAgICAgICAgICAvL+aXoOetlOahiAogICAgICAgICAgX3RoaXMxNC4kbWVzc2FnZS5lcnJvcign5b+F6aG75pyJ5LiA5Liq562U5qGIJyk7CgogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAodmFsaWQgJiYgX3RoaXMxNC51cGRhdGVRdUZvcm0ucXVlc3Rpb25UeXBlID09PSA0KSB7CiAgICAgICAgICAvL+eugOetlOmimCDml6DmoIflh4bnrZTmoYjnm7TmjqXlj5Hor7fmsYIKICAgICAgICAgIC8v5b2T5piv566A562U6aKY55qE5pe25YCZ6ZyA6KaB5riF6ZmkYW5zd2VyCiAgICAgICAgICBfdGhpczE0LmFkZFF1Rm9ybS5hbnN3ZXIgPSBbXTsKICAgICAgICAgIHF1ZXN0aW9uLnVwZGF0ZVF1ZXN0aW9uKF90aGlzMTQudXBkYXRlUXVGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzMTQudXBkYXRlUXVUYWJsZVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgX3RoaXMxNC5nZXRRdWVzdGlvbkluZm8oKTsKCiAgICAgICAgICAgICAgX3RoaXMxNC4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pu05paw6aKY55uu5oiQ5YqfJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoIXZhbGlkKSB7CiAgICAgICAgICBfdGhpczE0LiRtZXNzYWdlLmVycm9yKCfor7floavlhpnlv4XopoHkv6Hmga8nKTsKCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL+ebkea1i+WktOmDqOS/oeaBr+eahHRva2Vu5Y+Y5YyWCiAgICBoZWFkZXJzOiBmdW5jdGlvbiBoZWFkZXJzKCkgewogICAgICByZXR1cm4gewogICAgICAgIGF1dGhvcml6YXRpb246IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykgfHwgJycKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["name","data","queryInfo","questionType","id","allBank","questionInfo","loading","selectionTable","optionInfo","operation","total","addTableVisible","removeTableVisible","addQuTableVisible","addForm","bankId","removeForm","addFormRules","required","message","trigger","removeFormRules","addQuForm","questionLevel","questionContent","images","analysis","createPerson","answer","addQuFormRules","updateQuFormRules","backShowImgVisible","backShowImgUrl","updateQuForm","questionId","updateQuTableVisible","created","methods","getQuestionBankInfo","questionBank","typeChange","val","bankChange","contentChange","getQuestionInfo","question","handleTableSectionChange","operationChange","questionIds","title","type","duration","handleSizeChange","handleCurrentChange","resetAddForm","resetRemoveForm","resetAddQuForm","addBank","utils","then","removeBank","uploadPreview","file","handleRemove","fileList","handleUpdateRemove","beforeAvatarUpload","uploadImgSuccess","response","updateUploadImgSuccess","addAnswer","isTrue","addUpdateAnswer","delAnswer","delUpdateAnswer","uploadAnswerImgSuccess","uploadUpdateAnswerImgSuccess","handleAnswerRemove","handleUpdateAnswerRemove","checkAnswer","checked","item","checkUpdateAnswer","addQuestion","updateQu","resp","updateQuestion","computed","headers","authorization"],"sourceRoot":"src/views/teacher","sources":["QuestionManage.vue"],"sourcesContent":["<template>\n  <el-container>\n\n    <el-header height=\"220\">\n      <el-row>\n        <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.questionType\" placeholder=\"请选择题目类型\">\n          <el-option\n            v-for=\"item in questionType\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n\n        <el-select @change=\"bankChange\" clearable v-model=\"queryInfo.questionBank\" placeholder=\"请选择题库\"\n                   style=\"margin-left: 5px\">\n          <el-option\n            v-for=\"item in allBank\"\n            :key=\"item.id\"\n            :label=\"item.bankName\"\n            :value=\"item.bankName\">\n          </el-option>\n        </el-select>\n\n        <el-input v-model=\"queryInfo.questionContent\" @blur=\"contentChange\" placeholder=\"题目内容\"\n                  style=\"margin-left: 5px;width: 220px\"\n                  prefix-icon=\"el-icon-search\"></el-input>\n      </el-row>\n\n      <el-row style=\"margin-top: 10px\">\n        <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addQuTableVisible = true\">添加</el-button>\n      </el-row>\n    </el-header>\n\n    <el-main>\n      <!--操作的下拉框-->\n      <el-select @change=\"operationChange\" clearable v-if=\"selectionTable.length !== 0\" v-model=\"operation\"\n                 :placeholder=\"'已选择' + selectionTable.length + '项'\" style=\"margin-bottom: 25px;\">\n\n        <el-option v-for=\"(item,index) in optionInfo\" :key=\"index\" :value=\"item.desc\">\n          <span style=\"float: left\">{{ item.label }}</span>\n          <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.desc }}</span>\n        </el-option>\n\n      </el-select>\n\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"questionInfo\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;\" @selection-change=\"handleTableSectionChange\">\n\n        <el-table-column align=\"center\"\n                         type=\"selection\"\n                         width=\"55\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"题目类型\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.quType === 1\">单选题</span>\n            <span v-else-if=\"scope.row.quType === 2\">多选题</span>\n            <span v-else-if=\"scope.row.quType === 3\">判断题</span>\n            <span v-else-if=\"scope.row.quType === 4\">简答题</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"题目内容\">\n          <template slot-scope=\"scope\">\n            <span class=\"quContent\" @click=\"updateQu(scope.row.id)\">{{ scope.row.quContent }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"难度\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.level === 1\">简单</span>\n            <span v-if=\"scope.row.level === 2\">中等</span>\n            <span v-if=\"scope.row.level === 3\">困难</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         prop=\"quBankName\"\n                         label=\"所属题库\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         prop=\"createPerson\"\n                         label=\"创建人\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.createTime }}\n          </template>\n        </el-table-column>\n\n\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n\n    </el-main>\n\n    <el-dialog title=\"更新题目\" :visible.sync=\"updateQuTableVisible\" width=\"50%\" center>\n      <el-card>\n\n        <el-form :model=\"updateQuForm\" ref=\"updateQuForm\" :rules=\"updateQuFormRules\">\n\n          <el-form-item label=\"题目类型\" label-width=\"120px\" prop=\"questionType\">\n            <el-select v-model=\"updateQuForm.questionType\" disabled @change=\"updateQuForm.answer =  []\"\n                       placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in questionType\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"难度等级\" label-width=\"120px\" prop=\"questionLevel\">\n            <el-select v-model=\"updateQuForm.questionLevel\" placeholder=\"请选择\">\n              <el-option :value=\"parseInt(1)\" label=\"简单\"></el-option>\n              <el-option :value=\"parseInt(2)\" label=\"中等\"></el-option>\n              <el-option :value=\"parseInt(3)\" label=\"困难\"></el-option>\n            </el-select>\n          </el-form-item>\n\n\n          <el-form-item label=\"归属题库\" label-width=\"120px\" prop=\"bankId\">\n            <el-select multiple v-model=\"updateQuForm.bankId\" placeholder=\"请选择\">\n              <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\n                         :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\n            </el-select>\n          </el-form-item>\n\n\n          <el-form-item label=\"题目内容\" label-width=\"120px\" prop=\"questionContent\">\n            <el-input v-model=\"updateQuForm.questionContent\" style=\"margin-left: 5px\" type=\"textarea\"\n                      :rows=\"2\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"题目图片\" label-width=\"120px\">\n            <el-upload\n              action=\"http://localhost:8888/teacher/uploadQuestionImage\"\n              :on-preview=\"uploadPreview\"\n              :on-remove=\"handleUpdateRemove\"\n              :headers=\"headers\"\n              :before-upload=\"beforeAvatarUpload\"\n              list-type=\"picture\"\n              :on-success=\"updateUploadImgSuccess\"\n              name=\"file\">\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过10M</div>\n            </el-upload>\n          </el-form-item>\n\n          <el-form-item label=\"整题解析\" label-width=\"120px\" prop=\"analysis\">\n            <el-input v-model=\"updateQuForm.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\n                      :rows=\"2\"></el-input>\n          </el-form-item>\n\n          <el-button v-if=\"updateQuForm.questionType!==4\" type=\"primary\" plain size=\"small\" icon=\"el-icon-plus\"\n                     style=\"margin-left: 40px\" @click=\"addUpdateAnswer\">\n            添加\n          </el-button>\n\n          <!--存放答案表单的信息-->\n          <el-form-item prop=\"answer\" v-if=\"updateQuForm.questionType !== 4\">\n            <el-table :data=\"updateQuForm.answer\" border style=\"width: 96%;margin-left: 40px;margin-top: 10px\">\n\n              <el-table-column label=\"是否答案\" width=\"80\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-checkbox v-model=\"scope.row.isTrue\" @change=\"checked=>checkUpdateAnswer(checked,scope.row.id)\">答案\n                  </el-checkbox>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"答案图片\">\n                <template slot-scope=\"scope\">\n                  <el-upload id=\"answerUpload\" :limit=\"1\"\n                             action=\"http://localhost:8888/teacher/uploadQuestionImage\"\n                             :on-preview=\"uploadPreview\"\n                             :on-remove=\"handleUpdateAnswerRemove\"\n                             :headers=\"headers\"\n                             :before-upload=\"beforeAvatarUpload\"\n                             list-type=\"picture\"\n                             :on-success=\"(res) => { return uploadUpdateAnswerImgSuccess(res,scope.row.id)}\"\n                             name=\"file\">\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                  </el-upload>\n                </template>\n\n              </el-table-column>\n\n              <el-table-column label=\"答案内容\">\n                <template slot-scope=\"scope\">\n                  <el-input v-model=\"scope.row.answer\" style=\"margin-left: 5px\" type=\"textarea\"\n                            :rows=\"2\"></el-input>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"答案解析\">\n                <template slot-scope=\"scope\">\n                  <el-input v-model=\"scope.row.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\n                            :rows=\"2\"></el-input>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"操作\" width=\"80\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle\n                             @click=\"delUpdateAnswer(scope.row.id)\"></el-button>\n                </template>\n              </el-table-column>\n\n            </el-table>\n          </el-form-item>\n\n        </el-form>\n\n      </el-card>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"updateQuTableVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"updateQuestion\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"新增题目\" :visible.sync=\"addQuTableVisible\" width=\"50%\" @close=\"resetAddQuForm\" center>\n\n      <el-card>\n\n        <el-form :model=\"addQuForm\" ref=\"addQuForm\" :rules=\"addQuFormRules\">\n\n          <el-form-item label=\"题目类型\" label-width=\"120px\" prop=\"questionType\">\n            <el-select v-model=\"addQuForm.questionType\" @change=\"addQuForm.answer =  []\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in questionType\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"难度等级\" label-width=\"120px\" prop=\"questionLevel\">\n            <el-select v-model=\"addQuForm.questionLevel\" placeholder=\"请选择\">\n              <el-option :value=\"parseInt(1)\" label=\"简单\"></el-option>\n              <el-option :value=\"parseInt(2)\" label=\"中等\"></el-option>\n              <el-option :value=\"parseInt(3)\" label=\"困难\"></el-option>\n            </el-select>\n          </el-form-item>\n\n\n          <el-form-item label=\"归属题库\" label-width=\"120px\" prop=\"bankId\">\n            <el-select multiple v-model=\"addQuForm.bankId\" placeholder=\"请选择\">\n              <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\n                         :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\n            </el-select>\n          </el-form-item>\n\n\n          <el-form-item label=\"题目内容\" label-width=\"120px\" prop=\"questionContent\">\n            <el-input v-model=\"addQuForm.questionContent\" style=\"margin-left: 5px\" type=\"textarea\"\n                      :rows=\"2\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"题目图片\" label-width=\"120px\" prop=\"image\">\n            <el-upload\n              action=\"http://localhost:8888/teacher/uploadQuestionImage\"\n              :on-preview=\"uploadPreview\"\n              :on-remove=\"handleRemove\"\n              :headers=\"headers\"\n              :before-upload=\"beforeAvatarUpload\"\n              list-type=\"picture\"\n              :on-success=\"uploadImgSuccess\"\n              name=\"file\">\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过10M</div>\n            </el-upload>\n          </el-form-item>\n\n          <el-form-item label=\"整题解析\" label-width=\"120px\" prop=\"analysis\">\n            <el-input v-model=\"addQuForm.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\n                      :rows=\"2\"></el-input>\n          </el-form-item>\n\n          <el-button v-if=\"addQuForm.questionType!==4\" type=\"primary\" plain size=\"small\" icon=\"el-icon-plus\"\n                     style=\"margin-left: 40px\" @click=\"addAnswer\">\n            添加\n          </el-button>\n\n          <!--存放答案表单的信息-->\n          <el-form-item prop=\"answer\" v-if=\"addQuForm.questionType!==4\">\n            <el-table :data=\"addQuForm.answer\" border style=\"width: 96%;margin-left: 40px;margin-top: 10px\">\n\n              <el-table-column label=\"是否答案\" width=\"80\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-checkbox v-model=\"scope.row.isTrue\" @change=\"checked=>checkAnswer(checked,scope.row.id)\">答案\n                  </el-checkbox>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"答案图片\">\n                <template slot-scope=\"scope\">\n                  <el-upload :limit=\"1\"\n                             action=\"http://localhost:8888/teacher/uploadQuestionImage\"\n                             :on-preview=\"uploadPreview\"\n                             :on-remove=\"handleAnswerRemove\"\n                             :headers=\"headers\"\n                             :before-upload=\"beforeAvatarUpload\"\n                             list-type=\"picture\"\n                             :on-success=\"(res) => { return uploadAnswerImgSuccess(res,scope.row.id)}\"\n                             name=\"file\">\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                  </el-upload>\n                </template>\n\n              </el-table-column>\n\n              <el-table-column label=\"答案内容\">\n                <template slot-scope=\"scope\">\n                  <el-input v-model=\"scope.row.answer\" style=\"margin-left: 5px\" type=\"textarea\"\n                            :rows=\"2\"></el-input>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"答案解析\">\n                <template slot-scope=\"scope\">\n                  <el-input v-model=\"scope.row.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\n                            :rows=\"2\"></el-input>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"操作\" width=\"80\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"delAnswer(scope.row.id)\"></el-button>\n                </template>\n              </el-table-column>\n\n            </el-table>\n          </el-form-item>\n\n        </el-form>\n\n      </el-card>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addQuTableVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addQuestion\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"加入题库\" :visible.sync=\"addTableVisible\" width=\"30%\" @close=\"resetAddForm\"\n               center>\n\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addForm\">\n\n        <el-form-item label=\"题库名称\" label-width=\"120px\" prop=\"bankId\">\n\n          <el-select multiple v-model=\"addForm.bankId\" placeholder=\"请选择题库\">\n            <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\n                       :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\n          </el-select>\n\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addTableVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addBank\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"从题库中移除\" :visible.sync=\"removeTableVisible\" width=\"30%\" @close=\"resetRemoveForm\"\n               center>\n\n      <el-form :model=\"removeForm\" :rules=\"removeFormRules\" ref=\"removeForm\">\n\n        <el-form-item label=\"题库名称\" label-width=\"120px\" prop=\"bankId\">\n\n          <el-select multiple v-model=\"removeForm.bankId\" placeholder=\"请选择题库\">\n\n            <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\n                       :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\n          </el-select>\n\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"removeTableVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"removeBank\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <!--图片回显-->\n    <el-dialog :visible.sync=\"backShowImgVisible\" @close=\"backShowImgVisible = false\">\n      <img style=\"width: 100%\" :src=\"backShowImgUrl\" alt=\"\">\n    </el-dialog>\n\n  </el-container>\n\n</template>\n\n<script>\nimport questionBank from '@/api/questionBank'\nimport question from '@/api/question'\nimport utils from '@/utils/utils'\n\nexport default {\n  name: 'QuestionManage',\n  data () {\n    return {\n      //查询用户的参数\n      queryInfo: {\n        //题目类型下拉款所选的内容\n        'questionType': '',\n        'questionBank': '',\n        'questionContent': '',\n        'pageNo': 1,\n        'pageSize': 10\n      },\n      //题目类型\n      questionType: [\n        {\n          id: 1,\n          name: '单选题',\n        },\n        {\n          id: 2,\n          name: '多选题',\n        },\n        {\n          id: 3,\n          name: '判断题',\n        },\n        {\n          id: 4,\n          name: '简答题',\n        },\n      ],\n      //题库信息\n      allBank: [],\n      //题目信息\n      questionInfo: [],\n      //题目信息表格是否加载\n      loading: true,\n      //表格被选中的所有行\n      selectionTable: [],\n      //表格行被选中后的所有操作方式的数据\n      optionInfo: [\n        {\n          'label': '删除',\n          'desc': 'delete'\n        },\n        {\n          'label': '加入题库',\n          'desc': 'add'\n        },\n        {\n          'label': '题库中移除',\n          'desc': 'remove'\n        }\n      ],\n      //表格行被选中后的数据\n      operation: '',\n      //题目总数\n      total: 0,\n      //是否显示加入题库对话框\n      addTableVisible: false,\n      //是否显示移除题库对话框\n      removeTableVisible: false,\n      //是否显示添加题目的对话框\n      addQuTableVisible: false,\n      //添加题库的表单信息\n      addForm: {\n        bankId: ''\n      },\n      removeForm: {\n        bankId: ''\n      },\n      //添加题库表单的验证\n      addFormRules: {\n        bankId: [\n          {\n            required: true,\n            message: '请选择需要添加进的题库',\n            trigger: 'blur'\n          }\n        ]\n      },\n      //移除题库表单的验证\n      removeFormRules: {\n        bankId: [\n          {\n            required: true,\n            message: '请选择需要移除的题库',\n            trigger: 'blur'\n          }\n        ]\n      },\n      //添加题目的表单信息\n      addQuForm: {\n        questionType: 1,\n        questionLevel: 1,\n        bankId: '',\n        questionContent: '',\n        images: [],\n        analysis: '',\n        createPerson: localStorage.getItem('username'),\n        //答案对象\n        answer: []\n      },\n      //添加题目表单的验证规则\n      addQuFormRules: {\n        questionType: [\n          {\n            required: true,\n            message: '请选择问题类型',\n            trigger: 'blur'\n          }\n        ],\n        questionLevel: [\n          {\n            required: true,\n            message: '请选择问题难度',\n            trigger: 'blur'\n          }\n        ],\n        bankId: [\n          {\n            required: true,\n            message: '请选择题库',\n            trigger: 'blur'\n          }\n        ],\n        questionContent: [\n          {\n            required: true,\n            message: '请输入题库内容',\n            trigger: 'blur'\n          }\n        ],\n      },\n      //更新题目表单的验证规则\n      updateQuFormRules: {\n        questionType: [\n          {\n            required: true,\n            message: '请选择问题类型',\n            trigger: 'blur'\n          }\n        ],\n        questionLevel: [\n          {\n            required: true,\n            message: '请选择问题难度',\n            trigger: 'blur'\n          }\n        ],\n        bankId: [\n          {\n            required: true,\n            message: '请选择题库',\n            trigger: 'blur'\n          }\n        ],\n        questionContent: [\n          {\n            required: true,\n            message: '请输入题库内容',\n            trigger: 'blur'\n          }\n        ],\n      },\n      //图片回显的样式\n      backShowImgVisible: false,\n      //图片回显的图片地址\n      backShowImgUrl: '',\n      //更新题目的数据信息\n      updateQuForm: {\n        questionId: '',\n        questionType: 1,\n        questionLevel: 1,\n        bankId: '',\n        questionContent: '',\n        images: [],\n        analysis: '',\n        createPerson: localStorage.getItem('username'),\n        //答案对象\n        answer: []\n      },\n      //是否显示更新题目的对话框\n      updateQuTableVisible: false,\n    }\n  },\n  created () {\n    this.getQuestionBankInfo()\n    this.getQuestionInfo()\n  },\n  methods: {\n    //获取所有的题库信息\n    getQuestionBankInfo () {\n      questionBank.getQuestionBank().then((resp) => {\n        if (resp.code === 200) {\n          this.allBank = resp.data\n        }\n      })\n    },\n    //题目类型变化\n    typeChange (val) {\n      this.queryInfo.questionType = val\n      this.getQuestionInfo()\n    },\n    //题库变化\n    bankChange (val) {\n      this.queryInfo.questionBank = val\n      this.getQuestionInfo()\n    },\n    //题目名字筛选\n    contentChange () {\n      //发送查询题目总数的请求\n      this.getQuestionInfo()\n    },\n    //获取题目信息\n    getQuestionInfo () {\n      question.getQuestion(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          this.questionInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        }\n      })\n    },\n    //处理表格被选中\n    handleTableSectionChange (val) {\n      this.selectionTable = val\n    },\n    //处理操作选择框的变化\n    operationChange (val) {\n      //清空上一次的选择\n      this.operation = ''\n\n      let questionIds = []\n      if (val === 'delete') {\n        this.selectionTable.map(item => {\n          questionIds.push(item.id)\n        })\n        //发起删除请求\n        question.deleteQuestion({ 'questionIds': questionIds.join(',') }).then(resp => {\n          if (resp.code === 200) {\n            this.$notify({\n              title: 'Tips',\n              message: '删除成功',\n              type: 'success',\n              duration: 2000\n            })\n            this.getQuestionInfo()\n          }\n        })\n      } else if (val === 'add') {\n        this.addTableVisible = true\n      } else if (val === 'remove') {\n        this.removeTableVisible = true\n      }\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getQuestionInfo()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getQuestionInfo()\n    },\n    //表单信息重置\n    resetAddForm () {\n      //清空表格数据\n      this.$refs['addForm'].resetFields()\n    },\n    resetRemoveForm () {\n      //清空表格数据\n      this.$refs['removeForm'].resetFields()\n    },\n    resetAddQuForm () {\n      this.$refs['addQuForm'].resetFields()\n    },\n    //提交加入题库的表单信息\n    addBank () {\n      utils.validFormAndInvoke(this.$refs['addForm'], () => {\n        let questionIds = []\n        let banks = this.addForm.bankId\n        //将表格选中的数据中的问题id加入进去\n        this.selectionTable.map(item => {\n          questionIds.push(item.id)\n        })\n        questionBank.addBankQuestion({\n          'questionIds': questionIds.join(','),\n          'banks': banks.join(',')\n        }).then((resp) => {\n          if (resp.code === 200) {\n            this.getQuestionInfo()\n            this.$notify({\n              title: 'Tips',\n              message: resp.message,\n              type: 'success',\n              duration: 2000\n            })\n          }\n          this.addTableVisible = false\n        })\n      }, '请选择需要加入进的题库')\n    },\n    //提交移除题库的表单信息\n    removeBank () {\n      utils.validFormAndInvoke(this.$refs['removeForm'], () => {\n        let questionIds = []\n        let banks = this.removeForm.bankId\n        //将表格选中的数据中的问题id加入进去\n        this.selectionTable.map(item => {\n          questionIds.push(item.id)\n        })\n        //发起移除请求\n        questionBank.removeBankQuestion({\n          'questionIds': questionIds.join(','),\n          'banks': banks.join(',')\n        }).then((resp) => {\n          if (resp.code === 200) {\n            this.getQuestionInfo()\n            this.$notify({\n              title: 'Tips',\n              message: resp.message,\n              type: 'success',\n              duration: 2000\n            })\n          }\n          this.removeTableVisible = false\n        })\n      }, '请选择需要移除的题库')\n    },\n    //新增题目上传后 点击图片的回显\n    uploadPreview (file) {\n      this.backShowImgUrl = file.response.data\n      this.backShowImgVisible = true\n    },\n    //新增题目中的上传图片的移除\n    handleRemove (file, fileList) {\n      this.addQuForm.images.map((item, index) => {//移除图片在表单中的数据\n        if (item === file.response.data) this.addQuForm.images.splice(index, 1)\n      })\n    },\n    //更新题目中的上传图片的移除\n    handleUpdateRemove (file, fileList) {\n      this.updateQuForm.images.map((item, index) => {//移除图片在表单中的数据\n        if (item === file.response.data) this.updateQuForm.images.splice(index, 1)\n      })\n    },\n    //新增题目中的上传图片的格式大小限制\n    beforeAvatarUpload (file) {\n      const isImg = file.type === 'image/jpeg' ||\n        file.type === 'image/png' ||\n        file.type === 'image/jpg'\n      const isLt = file.size / 1024 / 1024 < 10\n\n      if (!isImg) {\n        this.$message.error('上传图片只能是 JPG/PNG 格式!')\n      }\n\n      if (!isLt) {\n        this.$message.error('上传头像图片大小不能超过 10MB!')\n      }\n      return isImg && isLt\n    },\n    //新增题目中的上传图片成功后的钩子函数\n    uploadImgSuccess (response, file, fileList) {\n      this.addQuForm.images.push(response.data)\n    },\n    //更新题目中的上传图片成功后的钩子函数\n    updateUploadImgSuccess (response, file, fileList) {\n      this.updateQuForm.images.push(response.data)\n    },\n    //新增题目中的新增答案填写框\n    addAnswer () {\n      this.addQuForm.answer.push({\n        id: this.addQuForm.answer.length,\n        isTrue: false,\n        answer: '',\n        images: [],\n        analysis: ''\n      })\n    },\n    //更新时新增题目中的新增答案填写框\n    addUpdateAnswer () {\n      this.updateQuForm.answer.push({\n        id: this.updateQuForm.answer.length,\n        isTrue: false,\n        answer: '',\n        images: [],\n        analysis: ''\n      })\n    },\n    //新增题目中的删除答案填写框\n    delAnswer (id) {//当前答案的id\n      this.addQuForm.answer.map((item, index) => {\n        if (item.id === id) this.addQuForm.answer.splice(index, 1)\n      })\n    },\n    //新增题目中的删除答案填写框\n    delUpdateAnswer (id) {//当前答案的id\n      this.updateQuForm.answer.map((item, index) => {\n        if (item.id === id) this.updateQuForm.answer.splice(index, 1)\n      })\n    },\n    //答案上传照片了\n    uploadAnswerImgSuccess (response, id) {\n      this.addQuForm.answer[id].images.push(response.data)\n    },\n    //更新的答案上传图片了\n    uploadUpdateAnswerImgSuccess (response, id) {\n      this.updateQuForm.answer[id].images.push(response.data)\n    },\n    //答案上传成功后删除\n    handleAnswerRemove (file) {\n      this.addQuForm.answer.images.map((item, index) => {//移除图片在表单中的数据\n        if (item === file.response.data) this.addQuForm.images.splice(index, 1)\n      })\n    },\n    //更新的时候答案上传成功后删除\n    handleUpdateAnswerRemove (file) {\n      this.updateQuForm.answer.images.map((item, index) => {//移除图片在表单中的数据\n        if (item === file.response.data) this.updateQuForm.images.splice(index, 1)\n      })\n    },\n    //选择正确答案的按钮变化事件\n    checkAnswer (checked, id) {\n      if (checked) {\n        if (this.addQuForm.questionType === 1 || this.addQuForm.questionType === 3) {//单选或者判断\n          //当前已经有一个正确的选择了\n          this.addQuForm.answer.map(item => {\n            item.isTrue = false\n          })\n          this.addQuForm.answer.map(item => {\n            if (item.id === id) item.isTrue = true\n          })\n        } else {//多选 可以有多个答案\n          this.addQuForm.answer.map(item => {\n            if (item.id === id) item.isTrue = true\n          })\n        }\n      } else {\n        this.addQuForm.answer.map(item => {\n          if (item.id === id) item.isTrue = false\n        })\n      }\n    },\n    //更新时选择正确答案的按钮变化事件\n    checkUpdateAnswer (checked, id) {\n      if (checked) {\n        if (this.updateQuForm.questionType === 1 || this.updateQuForm.questionType === 3) {//单选或者判断\n          //当前已经有一个正确的选择了\n          this.updateQuForm.answer.map(item => {\n            item.isTrue = false\n          })\n          this.updateQuForm.answer.map(item => {\n            if (item.id === id) item.isTrue = true\n          })\n        } else {//多选 可以有多个答案\n          this.updateQuForm.answer.map(item => {\n            if (item.id === id) item.isTrue = true\n          })\n        }\n      } else {\n        this.updateQuForm.answer.map(item => {\n          if (item.id === id) item.isTrue = false\n        })\n      }\n    },\n    //新增题目\n    addQuestion () {\n      this.$refs['addQuForm'].validate((valid) => {\n        if (valid && this.addQuForm.answer.some(item => item.isTrue) && this.addQuForm.questionType !== 4) {//单选或者多选或者判断\n          question.addQuestion(this.addQuForm).then((resp) => {\n            if (resp.code === 200) {\n              this.addQuTableVisible = false\n              this.getQuestionInfo()\n              this.$notify({\n                title: 'Tips',\n                message: '新增题目成功',\n                type: 'success',\n                duration: 2000\n              })\n            }\n          })\n        } else if (valid && !this.addQuForm.answer.some(item => item.isTrue) && this.addQuForm.questionType !== 4) {//无答案\n          this.$message.error('必须有一个答案')\n          return false\n        } else if (valid && this.addQuForm.questionType === 4) {//简答题 无标准答案直接发请求\n          //当是简答题的时候需要清除answer\n          this.addQuForm.answer = []\n          question.addQuestion(this.addQuForm).then((resp) => {\n            if (resp.code === 200) {\n              this.addQuTableVisible = false\n              this.getQuestionInfo()\n              this.$notify({\n                title: 'Tips',\n                message: '新增题目成功',\n                type: 'success',\n                duration: 2000\n              })\n            }\n          })\n        } else if (!valid) {\n          this.$message.error('请填写必要信息')\n          return false\n        }\n      })\n    },\n    //更新题目\n    updateQu (id) {\n      question.getQuestionById(id).then((resp) => {\n        if (resp.code === 200) {\n          if (resp.data.questionType !== 4) {\n            resp.data.answer.map(item => {\n              item.isTrue = item.isTrue === 'true'\n            })\n          }\n          this.updateQuForm = resp.data\n          //处理图片那个参数是个数组\n          if (this.updateQuForm.images === null) this.updateQuForm.images = []\n\n          if (resp.data.questionType !== 4) {\n            this.updateQuForm.answer.map(item => {\n              if (item.images === null) {\n                item.images = []\n              }\n            })\n          }\n\n        }\n      })\n      this.updateQuTableVisible = true\n    },\n    //提交更新表单\n    updateQuestion () {\n      this.$refs['updateQuForm'].validate((valid) => {\n        if (valid && this.updateQuForm.questionType !== 4 && this.updateQuForm.answer.some(item => item.isTrue)) {//单选或者多选或者判断\n          //保证答案的图片只有一张\n          this.updateQuForm.answer.map(item => {\n            if (item.images.length > 1) {\n              item.images.splice(0, item.images.length - 1)\n            }\n          })\n          question.updateQuestion(this.updateQuForm).then((resp) => {\n            if (resp.code === 200) {\n              this.updateQuTableVisible = false\n              this.getQuestionInfo()\n              this.$notify({\n                title: 'Tips',\n                message: '更新题目成功',\n                type: 'success',\n                duration: 2000\n              })\n            }\n          })\n        } else if (valid && this.updateQuForm.questionType !== 4 && !this.updateQuForm.answer.some(item => item.isTrue)) {//无答案\n          this.$message.error('必须有一个答案')\n          return false\n        } else if (valid && this.updateQuForm.questionType === 4) {//简答题 无标准答案直接发请求\n          //当是简答题的时候需要清除answer\n          this.addQuForm.answer = []\n          question.updateQuestion(this.updateQuForm).then((resp) => {\n            if (resp.code === 200) {\n              this.updateQuTableVisible = false\n              this.getQuestionInfo()\n              this.$notify({\n                title: 'Tips',\n                message: '更新题目成功',\n                type: 'success',\n                duration: 2000\n              })\n            }\n          })\n        } else if (!valid) {\n          this.$message.error('请填写必要信息')\n          return false\n        }\n      })\n    },\n  },\n  computed: {\n    //监测头部信息的token变化\n    headers () {\n      return {\n        authorization: localStorage.getItem('authorization') || ''\n      }\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/questionManage\";\n</style>\n"]}]}