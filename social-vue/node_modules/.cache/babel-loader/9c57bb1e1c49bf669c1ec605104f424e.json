{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/UpdateExam.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/UpdateExam.vue","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NrZy9hMjAyMmRvd25sb2FkL1x1NUI2Nlx1NEU2MFx1NTI0RFx1N0FFRi9leGFtX3N5c3RlbS1tYXN0ZXIvZXhhbS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBleGFtQXBpIGZyb20gJ0AvYXBpL2V4YW0nOwppbXBvcnQgcXVlc3Rpb24gZnJvbSAnQC9hcGkvcXVlc3Rpb24nOwppbXBvcnQgcXVlc3Rpb25CYW5rIGZyb20gJ0AvYXBpL3F1ZXN0aW9uQmFuayc7CmltcG9ydCB1dGlscyBmcm9tICdAL3V0aWxzL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVcGRhdGVFeGFtJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/mn6Xor6Lpopjnm67nmoTlj4LmlbAKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgLy/popjnm67nsbvlnovkuIvmi4nmrL7miYDpgInnmoTlhoXlrrkKICAgICAgICAncXVlc3Rpb25UeXBlJzogJycsCiAgICAgICAgJ3F1ZXN0aW9uQmFuayc6ICcnLAogICAgICAgICdxdWVzdGlvbkNvbnRlbnQnOiAnJywKICAgICAgICAncGFnZU5vJzogMSwKICAgICAgICAncGFnZVNpemUnOiAxMAogICAgICB9LAogICAgICAvL+mimOebruexu+WeiwogICAgICBxdWVzdGlvblR5cGU6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogJ+WNlemAiemimCcKICAgICAgfSwgewogICAgICAgIGlkOiAyLAogICAgICAgIG5hbWU6ICflpJrpgInpopgnCiAgICAgIH0sIHsKICAgICAgICBpZDogMywKICAgICAgICBuYW1lOiAn5Yik5pat6aKYJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDQsCiAgICAgICAgbmFtZTogJ+eugOetlOmimCcKICAgICAgfV0sCiAgICAgIC8v5omA5pyJ6aKY5bqT5L+h5oGvCiAgICAgIGFsbEJhbms6IFtdLAogICAgICAvL+W9k+WJjeeahOatpemqpAogICAgICBjdXJTdGVwOiAxLAogICAgICAvL+iAg+ivlemimOebruS/oeaBrwogICAgICB1cGRhdGVFeGFtUXVlc3Rpb246IFtdLAogICAgICAvL+a3u+WKoOmimOW6k+eahOWvueivneahhgogICAgICBzaG93UXVlc3Rpb25EaWFsb2c6IGZhbHNlLAogICAgICAvL+WvueivneahhuS4remimOebruihqOagvOeahOWKoOi9vQogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvL+mhtemdouS4reeahOmimOebruWIl+ihqOihqOagvAogICAgICBwYWdlTG9hZGluZzogdHJ1ZSwKICAgICAgLy/miYDmnInpopjnm67nmoTkv6Hmga8KICAgICAgcXVlc3Rpb25JbmZvOiBbXSwKICAgICAgLy/miYDmnInpopjnm67nmoTlr7nor53moYbkuK3ooajmoLzooqvpgInkuK0KICAgICAgc2VsZWN0ZWRUYWJsZTogW10sCiAgICAgIC8v5a+56K+d5qGG5Lit6aKY55uu55qE5oC75pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvL+W9k+WJjeiAg+ivleeahOS/oeaBrwogICAgICBleGFtSW5mbzoge30sCiAgICAgIC8v6KGl5YWF55qE6ICD6K+V5L+h5oGv55qE6KGo5Y2V6aqM6K+BCiAgICAgIGV4YW1JbmZvUnVsZXM6IHsKICAgICAgICBleGFtTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeiAg+ivleWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzU2NvcmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgJrov4fliIbmlbAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZXhhbUR1cmF0aW9uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6ICD6K+V5pe26ZW/JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBwcm9wczogWyd0YWdJbmZvJ10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8v5LiA5Yib5bu65bCx5pS55Y+Y5aS06YOo55qE6Z2i5YyF5bGRCiAgICB0aGlzLiRlbWl0KCdnaXZlQ2hpbGRDaGFuZ2VCcmVha0luZm8nLCAn5pu05paw6ICD6K+VJywgJ+abtOaWsOiAg+ivlScpOwogICAgdGhpcy5jcmVhdGVUYWdzSW5QYXJlbnQoKTsKICAgIHRoaXMuZ2V0RXhhbUluZm8oKTsKICAgIHRoaXMuZ2V0QmFua0luZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5ZCR54i257uE5Lu25Lit5re75Yqg5aS06YOo55qEdGFnc+agh+etvgogICAgY3JlYXRlVGFnc0luUGFyZW50OiBmdW5jdGlvbiBjcmVhdGVUYWdzSW5QYXJlbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmxhZyA9IGZhbHNlOwogICAgICB0aGlzLnRhZ0luZm8ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgLy/lpoLmnpx0YWdz5YWo6YOo56ym5ZCICiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gJ+abtOaWsOiAg+ivlScgJiYgaXRlbS51cmwgPT09IF90aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubmFtZSA9PT0gJ+abtOaWsOiAg+ivlScgJiYgaXRlbS51cmwgIT09IF90aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgICBfdGhpcy4kZW1pdCgndXBkYXRlVGFnSW5mbycsICfmm7TmlrDogIPor5UnLCBfdGhpcy4kcm91dGUucGF0aCk7CgogICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKCFmbGFnKSB0aGlzLiRlbWl0KCdnaXZlQ2hpbGRBZGRUYWcnLCAn5pu05paw6ICD6K+VJywgdGhpcy4kcm91dGUucGF0aCk7CiAgICB9LAogICAgLy/moLnmja7ogIPor5XnmoRpZOafpeivouiAg+ivleeahOS/oeaBr+WSjOmimOebrueahOS/oeaBrwogICAgZ2V0RXhhbUluZm86IGZ1bmN0aW9uIGdldEV4YW1JbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZXhhbUFwaS5nZXRFeGFtSW5mb0J5SWQoX3RoaXMyLiRyb3V0ZS5wYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmV4YW1JbmZvID0gcmVzcC5kYXRhOwogICAgICAgICAgICAgICAgICAgIHZhciBzY29yZXMgPSByZXNwLmRhdGEuc2NvcmVzLnNwbGl0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgcmVzcC5kYXRhLnF1ZXN0aW9uSWRzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uQnlJZChpdGVtKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVFeGFtUXVlc3Rpb24ucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3F1ZXN0aW9uSWQnOiBwYXJzZUludChpdGVtKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAncXVlc3Rpb25UeXBlJzogci5kYXRhLnF1ZXN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAncXVlc3Rpb25Db250ZW50Jzogci5kYXRhLnF1ZXN0aW9uQ29udGVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2NvcmUnOiBzY29yZXNbaW5kZXhdCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBhZ2VMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/oh6rnlLHnu4Tljbfml7bmt7vliqDor5XpopgKICAgIHNob3dBZGREaWFsb2c6IGZ1bmN0aW9uIHNob3dBZGREaWFsb2coKSB7CiAgICAgIHRoaXMuc2hvd1F1ZXN0aW9uRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKTsKICAgIH0sCiAgICAvL+iOt+WPluaJgOacieeahOmimOW6k+S/oeaBrwogICAgZ2V0QmFua0luZm86IGZ1bmN0aW9uIGdldEJhbmtJbmZvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHF1ZXN0aW9uQmFuay5nZXRCYW5rSGF2ZVF1ZXN0aW9uU3VtQnlUeXBlKHsKICAgICAgICAncGFnZU5vJzogMSwKICAgICAgICAncGFnZVNpemUnOiA5OTk5CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzMy5hbGxCYW5rID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgbWVzc2FnZTogcmVzcC5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPlumimOebruS/oeaBrwogICAgZ2V0UXVlc3Rpb25JbmZvOiBmdW5jdGlvbiBnZXRRdWVzdGlvbkluZm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcXVlc3Rpb24uZ2V0UXVlc3Rpb24odGhpcy5xdWVyeUluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzNC5xdWVzdGlvbkluZm8gPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICAgIF90aGlzNC50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICAgIF90aGlzNC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+iOt+WPlumimOW6k+S/oeaBr+Wksei0pScsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6Ieq55Sx57uE5Y235pe25Yig6Zmk6K+V6aKYCiAgICBkZWxRdWVzdGlvbjogZnVuY3Rpb24gZGVsUXVlc3Rpb24ocXVlc3Rpb25JZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMudXBkYXRlRXhhbVF1ZXN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0ucXVlc3Rpb25JZCA9PT0gcXVlc3Rpb25JZCkgX3RoaXM1LnVwZGF0ZUV4YW1RdWVzdGlvbi5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+mimOebruexu+Wei+WPmOWMlgogICAgdHlwZUNoYW5nZTogZnVuY3Rpb24gdHlwZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucXVlc3Rpb25UeXBlID0gdmFsOwogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpOwogICAgfSwKICAgIC8v6aKY5bqT5Y+Y5YyWCiAgICBiYW5rQ2hhbmdlOiBmdW5jdGlvbiBiYW5rQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5xdWVzdGlvbkJhbmsgPSB2YWw7CiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCk7CiAgICB9LAogICAgLy/oh6rnlLHnu4TljbfkuK3pgInkuK3nmoTpopjnm67mt7vliqDov5vljrsKICAgIGFkZFF1VG9GcmVlOiBmdW5jdGlvbiBhZGRRdVRvRnJlZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVkVGFibGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmICghX3RoaXM2LnVwZGF0ZUV4YW1RdWVzdGlvbi5zb21lKGZ1bmN0aW9uIChpMikgewogICAgICAgICAgcmV0dXJuIGkyLnF1ZXN0aW9uSWQgPT09IGl0ZW0uaWQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIC8v5LiN5a2Y5Zyo5pyJ5b2T5YmN6aKY55uuCiAgICAgICAgICBfdGhpczYudXBkYXRlRXhhbVF1ZXN0aW9uLnB1c2goewogICAgICAgICAgICAncXVlc3Rpb25JZCc6IGl0ZW0uaWQsCiAgICAgICAgICAgICdxdWVzdGlvbkNvbnRlbnQnOiBpdGVtLnF1Q29udGVudCwKICAgICAgICAgICAgJ3F1ZXN0aW9uVHlwZSc6IGl0ZW0ucXVUeXBlLAogICAgICAgICAgICAnc2NvcmUnOiAxCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnNob3dRdWVzdGlvbkRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIC8v5aSE55CG6KGo5qC86KKr6YCJ5LitCiAgICBoYW5kbGVUYWJsZVNlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVRhYmxlU2VjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3RlZFRhYmxlID0gdmFsOwogICAgfSwKICAgIC8v5YiG6aG16aG16Z2i5aSn5bCP5pS55Y+YCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKTsKICAgIH0sCiAgICAvL+WIhumhteaPkuS7tueahOmhteaVsAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZU5vID0gdmFsOwogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpOwogICAgfSwKICAgIC8v5pu05paw6ICD6K+VCiAgICB1cGRhdGVFeGFtOiBmdW5jdGlvbiB1cGRhdGVFeGFtKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzWydleGFtSW5mb0Zvcm0nXSwgZnVuY3Rpb24gKCkgewogICAgICAgIC8v5p6E6YCg5pWw5o2u5a+56LGhKOiAg+ivleS/oeaBrykKICAgICAgICB2YXIgZXhhbSA9IF90aGlzNy5leGFtSW5mbzsKCiAgICAgICAgaWYgKF90aGlzNy51cGRhdGVFeGFtUXVlc3Rpb24ubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAvL+iHqueUsee7hOWNt+aooeW8jwogICAgICAgICAgaWYgKGV4YW0udHlwZSA9PT0gMSkgewogICAgICAgICAgICBleGFtLnBhc3N3b3JkID0gbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZyhleGFtKTsKCiAgICAgICAgICBpZiAoZXhhbS50eXBlID09PSAyICYmIChleGFtLnBhc3N3b3JkID09PSBudWxsIHx8IGV4YW0ucGFzc3dvcmQgPT09ICcnKSkgewogICAgICAgICAgICBfdGhpczcuJG1lc3NhZ2UuZXJyb3IoJ+W9k+WJjeadg+mZkOS4uumcgOimgeWvhueggSzkvYbmmK/lr4bnoIHkuLrnqbonKTsKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gLy/popjnm65pZOaVsOe7hAoKCiAgICAgICAgICB2YXIgcXVlc3Rpb25JZHMgPSBbXTsgLy/popjnm67miJDnu6nmlbDnu4QKCiAgICAgICAgICB2YXIgc2NvcmVzID0gW107CgogICAgICAgICAgX3RoaXM3LnVwZGF0ZUV4YW1RdWVzdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5xdWVzdGlvbklkKTsKICAgICAgICAgICAgc2NvcmVzLnB1c2goaXRlbS5zY29yZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBleGFtLnF1ZXN0aW9uSWRzID0gcXVlc3Rpb25JZHMuam9pbignLCcpOwogICAgICAgICAgZXhhbS5zY29yZXMgPSBzY29yZXMuam9pbignLCcpOwogICAgICAgICAgZXhhbUFwaS51cGRhdGVFeGFtSW5mbyhleGFtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzNy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpczcuJHJvdXRlci5wdXNoKCcvZXhhbU1hbmFnZScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM3LiRtZXNzYWdlLmVycm9yKCfor7fmo4Dmn6XogIPor5Xop4TliJnorr7nva7mmK/lkKblrozmlbQnKTsKICAgICAgICB9CiAgICAgIH0sICfor7fmo4Dmn6XogIPor5Xop4TliJnorr7nva7mmK/lkKblrozmlbQnKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL+iuoeeul+aAu+WIhgogICAgc3VtVG90YWxTY29yZTogZnVuY3Rpb24gc3VtVG90YWxTY29yZSgpIHsKICAgICAgdmFyIHNjb3JlID0gMDsKICAgICAgdGhpcy51cGRhdGVFeGFtUXVlc3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHNjb3JlICs9IHBhcnNlSW50KGl0ZW0uc2NvcmUpOwogICAgICB9KTsKICAgICAgdGhpcy5leGFtSW5mby50b3RhbFNjb3JlID0gc2NvcmU7CiAgICAgIHJldHVybiBzY29yZTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["name","data","queryInfo","questionType","id","allBank","curStep","updateExamQuestion","showQuestionDialog","loading","pageLoading","questionInfo","selectedTable","total","examInfo","examInfoRules","examName","required","message","trigger","passScore","examDuration","props","created","methods","createTagsInParent","flag","getExamInfo","examApi","resp","question","showAddDialog","getBankInfo","questionBank","then","title","type","duration","getQuestionInfo","delQuestion","questionId","typeChange","val","bankChange","addQuToFree","handleTableSectionChange","handleSizeChange","handleCurrentChange","updateExam","utils","exam","console","questionIds","scores","computed","sumTotalScore","score"],"sourceRoot":"src/views/teacher","sources":["UpdateExam.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"220\">\n      <el-steps :active=\"curStep\" simple>\n        <el-step title=\"组卷配置\" icon=\"el-icon-edit\"></el-step>\n        <el-step title=\"考试权限\" icon=\"el-icon-lock\"></el-step>\n        <el-step title=\"补充配置\" icon=\"el-icon-setting\"></el-step>\n      </el-steps>\n\n      <el-button style=\"margin-top: 10px\" v-show=\"curStep !== 1\" @click=\"curStep--\">上一步</el-button>\n\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep !== 3\" type=\"primary\" @click=\"curStep++\">下一步\n      </el-button>\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep === 3\" type=\"primary\" @click=\"updateExam\">提交\n      </el-button>\n    </el-header>\n\n    <el-main>\n      <!--设置试题信息-->\n      <el-card v-show=\"curStep === 1\">\n\n        <span style=\"float: right;color: red;font-weight: bold\">\n          {{ '试卷总分：' + sumTotalScore }}</span>\n\n        <div>\n          <el-card>\n            <h1>题目列表</h1>\n            <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"showAddDialog\">添加试题</el-button>\n\n            <el-table v-loading=\"pageLoading\" :data=\"updateExamQuestion\" border style=\"margin-top: 10px\">\n\n              <el-table-column\n                type=\"index\"\n                label=\"序号\"\n                width=\"50\">\n              </el-table-column>\n\n              <el-table-column label=\"题目内容\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.questionContent }}\n                </template>\n              </el-table-column>\n\n              <el-table-column align=\"center\"\n                               label=\"题目类型\">\n                <template slot-scope=\"scope\">\n                  <span v-if=\"scope.row.questionType === 1\">单选题</span>\n                  <span v-else-if=\"scope.row.questionType === 2\">多选题</span>\n                  <span v-else-if=\"scope.row.questionType === 3\">判断题</span>\n                  <span v-else-if=\"scope.row.questionType === 4\">简答题</span>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"单题分数\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-input v-model=\"scope.row.score\" style=\"margin-left: 5px\"></el-input>\n                </template>\n              </el-table-column>\n\n              <el-table-column label=\"操作\" width=\"80\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle\n                             @click=\"delQuestion(scope.row.questionId)\"></el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n\n          </el-card>\n        </div>\n      </el-card>\n\n      <!--设置考试权限-->\n      <el-card v-show=\"curStep === 2\">\n        <el-radio-group v-model=\"examInfo.type\" size=\"medium\">\n          <el-radio :label=\"1\" border>完全公开</el-radio>\n          <el-radio :label=\"2\" border>需要密码</el-radio>\n        </el-radio-group>\n\n        <el-alert style=\"margin-top: 15px\"\n                  :title=\"examInfo.type === 1? '开放的，任何人都可以进行考试！' : '半开放的，知道密码的人员才可以考试！'\"\n                  type=\"warning\">\n        </el-alert>\n\n        <el-input style=\"margin-top: 15px;width: 20%\" v-model=\"examInfo.password\" v-show=\"examInfo.type === 2\"\n                  type=\"password\" show-password placeholder=\"输入考试密码\"></el-input>\n      </el-card>\n\n      <!--设置考试信息-->\n      <el-card v-show=\"curStep === 3\">\n\n        <el-form :model=\"examInfo\" :rules=\"examInfoRules\" ref=\"examInfoForm\" label-width=\"100px\">\n\n          <el-form-item label=\"考试名称\" prop=\"examName\">\n            <el-input v-model=\"examInfo.examName\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"考试描述\" prop=\"examDesc\">\n            <el-input v-model=\"examInfo.examDesc\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"总分数\" prop=\"totalScore\">\n            <el-input-number :value=\"sumTotalScore\" :disabled=\"true\"></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"及格分数\" prop=\"passScore\">\n            <el-input-number v-model=\"examInfo.passScore\" :min=\"1\" :max=\"sumTotalScore\"></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"考试时长(分钟)\" prop=\"examDuration\">\n            <el-input-number v-model=\"examInfo.examDuration\" :min=\"1\" :max=\"120\"></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"考试开始时间\" prop=\"startTime\">\n            <el-date-picker style=\"margin-left: 5px\"\n                            v-model=\"examInfo.startTime\"\n                            type=\"date\" placeholder=\"考试开始时间\">\n            </el-date-picker>\n          </el-form-item>\n\n          <el-form-item label=\"考试结束时间\" prop=\"endTime\">\n            <el-date-picker style=\"margin-left: 5px\"\n                            v-model=\"examInfo.endTime\"\n                            type=\"date\" placeholder=\"考试结束时间\">\n            </el-date-picker>\n          </el-form-item>\n\n        </el-form>\n\n      </el-card>\n    </el-main>\n\n    <el-dialog title=\"添加题目\" :visible.sync=\"showQuestionDialog\" width=\"80%\" center>\n      <el-row>\n        <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.questionType\" placeholder=\"请选择题目类型\">\n          <el-option\n            v-for=\"item in questionType\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n\n        <el-select @change=\"bankChange\" clearable v-model=\"queryInfo.questionBank\" placeholder=\"请选择题库\"\n                   style=\"margin-left: 5px\">\n          <el-option\n            v-for=\"item in allBank\"\n            :key=\"item.questionBank.bankId\"\n            :label=\"item.questionBank.bankName\"\n            :value=\"item.questionBank.bankName\">\n          </el-option>\n        </el-select>\n\n        <el-input v-model=\"queryInfo.questionContent\" @blur=\"getQuestionInfo\" placeholder=\"题目内容\"\n                  style=\"margin-left: 5px;width: 220px\"\n                  prefix-icon=\"el-icon-search\"></el-input>\n        <el-button type=\"primary\" @click=\"addQuToFree\" style=\"float: right\">确认{{ selectedTable.length }}项</el-button>\n      </el-row>\n\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"questionInfo\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;margin-top: 25px;\" @selection-change=\"handleTableSectionChange\">\n\n        <el-table-column align=\"center\"\n                         type=\"selection\"\n                         width=\"55\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"题目类型\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.quType === 1\">单选题</span>\n            <span v-else-if=\"scope.row.quType === 2\">多选题</span>\n            <span v-else-if=\"scope.row.quType === 3\">判断题</span>\n            <span v-else-if=\"scope.row.quType === 4\">简答题</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"题目内容\">\n          <template slot-scope=\"scope\">\n            <span class=\"quContent\">{{ scope.row.quContent }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"难度\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.level === 1\">简单</span>\n            <span v-if=\"scope.row.level === 2\">中等</span>\n            <span v-if=\"scope.row.level === 3\">困难</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         prop=\"quBankName\"\n                         label=\"所属题库\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         prop=\"createPerson\"\n                         label=\"创建人\">\n        </el-table-column>\n\n        <el-table-column align=\"center\"\n                         label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.createTime }}\n          </template>\n        </el-table-column>\n\n\n      </el-table>\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-dialog>\n\n  </el-container>\n</template>\n\n<script>\nimport examApi from '@/api/exam'\nimport question from '@/api/question'\nimport questionBank from '@/api/questionBank'\nimport utils from '@/utils/utils'\n\nexport default {\n  name: 'UpdateExam',\n  data () {\n    return {\n      //查询题目的参数\n      queryInfo: {\n        //题目类型下拉款所选的内容\n        'questionType': '',\n        'questionBank': '',\n        'questionContent': '',\n        'pageNo': 1,\n        'pageSize': 10\n      },\n      //题目类型\n      questionType: [\n        {\n          id: 1,\n          name: '单选题',\n        },\n        {\n          id: 2,\n          name: '多选题',\n        },\n        {\n          id: 3,\n          name: '判断题',\n        },\n        {\n          id: 4,\n          name: '简答题',\n        },\n      ],\n      //所有题库信息\n      allBank: [],\n      //当前的步骤\n      curStep: 1,\n      //考试题目信息\n      updateExamQuestion: [],\n      //添加题库的对话框\n      showQuestionDialog: false,\n      //对话框中题目表格的加载\n      loading: true,\n      //页面中的题目列表表格\n      pageLoading: true,\n      //所有题目的信息\n      questionInfo: [],\n      //所有题目的对话框中表格被选中\n      selectedTable: [],\n      //对话框中题目的总数\n      total: 0,\n      //当前考试的信息\n      examInfo: {},\n      //补充的考试信息的表单验证\n      examInfoRules: {\n        examName: [\n          {\n            required: true,\n            message: '请输入考试名称',\n            trigger: 'blur'\n          }\n        ],\n        passScore: [\n          {\n            required: true,\n            message: '请输入通过分数',\n            trigger: 'blur'\n          }\n        ],\n        examDuration: [\n          {\n            required: true,\n            message: '请输入考试时长',\n            trigger: 'blur'\n          }\n        ],\n      },\n    }\n  },\n  props: ['tagInfo'],\n  created () {\n    //一创建就改变头部的面包屑\n    this.$emit('giveChildChangeBreakInfo', '更新考试', '更新考试')\n    this.createTagsInParent()\n    this.getExamInfo()\n    this.getBankInfo()\n  },\n  methods: {\n    //向父组件中添加头部的tags标签\n    createTagsInParent () {\n      let flag = false\n      this.tagInfo.map(item => {\n        //如果tags全部符合\n        if (item.name === '更新考试' && item.url === this.$route.path) {\n          flag = true\n        } else if (item.name === '更新考试' && item.url !== this.$route.path) {\n          this.$emit('updateTagInfo', '更新考试', this.$route.path)\n          flag = true\n        }\n      })\n      if (!flag) this.$emit('giveChildAddTag', '更新考试', this.$route.path)\n    },\n    //根据考试的id查询考试的信息和题目的信息\n    async getExamInfo () {\n      await examApi.getExamInfoById(this.$route.params).then((resp) => {\n        if (resp.code === 200) {\n          this.examInfo = resp.data\n          let scores = resp.data.scores.split(',')\n          resp.data.questionIds.split(',').forEach((item, index) => {\n            question.getQuestionById(item).then((r) => {\n              this.updateExamQuestion.push({\n                'questionId': parseInt(item),\n                'questionType': r.data.questionType,\n                'questionContent': r.data.questionContent,\n                'score': scores[index]\n              })\n            })\n          })\n          this.pageLoading = false\n        }\n      })\n    },\n    //自由组卷时添加试题\n    showAddDialog () {\n      this.showQuestionDialog = true\n      this.getQuestionInfo()\n    },\n    //获取所有的题库信息\n    getBankInfo () {\n      questionBank.getBankHaveQuestionSumByType({\n        'pageNo': 1,\n        'pageSize': 9999\n      }).then((resp) => {\n        if (resp.code === 200) {\n          this.allBank = resp.data.data\n        } else {\n          this.$notify({\n            title: 'Tips',\n            message: resp.message,\n            type: 'error',\n            duration: 2000\n          })\n        }\n      })\n    },\n    //获取题目信息\n    getQuestionInfo () {\n      question.getQuestion(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          this.questionInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        } else {\n          this.$notify({\n            title: 'Tips',\n            message: '获取题库信息失败',\n            type: 'error',\n            duration: 2000\n          })\n        }\n      })\n    },\n    //自由组卷时删除试题\n    delQuestion (questionId) {\n      this.updateExamQuestion.forEach((item, index) => {\n        if (item.questionId === questionId) this.updateExamQuestion.splice(index, 1)\n      })\n    },\n    //题目类型变化\n    typeChange (val) {\n      this.queryInfo.questionType = val\n      this.getQuestionInfo()\n    },\n    //题库变化\n    bankChange (val) {\n      this.queryInfo.questionBank = val\n      this.getQuestionInfo()\n    },\n    //自由组卷中选中的题目添加进去\n    addQuToFree () {\n      this.selectedTable.forEach(item => {\n        if (!this.updateExamQuestion.some(i2 => {\n          return i2.questionId === item.id\n        })) {//不存在有当前题目\n          this.updateExamQuestion.push({\n            'questionId': item.id,\n            'questionContent': item.quContent,\n            'questionType': item.quType,\n            'score': 1\n          })\n        }\n      })\n      this.showQuestionDialog = false\n    },\n    //处理表格被选中\n    handleTableSectionChange (val) {\n      this.selectedTable = val\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getQuestionInfo()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getQuestionInfo()\n    },\n    //更新考试\n    updateExam () {\n      utils.validFormAndInvoke(this.$refs['examInfoForm'], () => {\n        //构造数据对象(考试信息)\n        let exam = this.examInfo\n        if (this.updateExamQuestion.length !== 0) {//自由组卷模式\n          if (exam.type === 1) {\n            exam.password = null\n          }\n          console.log(exam)\n          if (exam.type === 2 && (exam.password === null || exam.password === '')) {\n            this.$message.error('当前权限为需要密码,但是密码为空')\n            return false\n          }\n          //题目id数组\n          let questionIds = []\n          //题目成绩数组\n          let scores = []\n          this.updateExamQuestion.forEach(item => {\n            questionIds.push(item.questionId)\n            scores.push(item.score)\n          })\n          exam.questionIds = questionIds.join(',')\n          exam.scores = scores.join(',')\n          examApi.updateExamInfo(exam).then((resp) => {\n            if (resp.code === 200) {\n              this.$notify({\n                type: 'success',\n                title: 'Tips',\n                message: resp.message,\n                duration: 2000\n              })\n              this.$router.push('/examManage')\n            }\n          })\n        } else {\n          this.$message.error('请检查考试规则设置是否完整')\n        }\n      }, '请检查考试规则设置是否完整')\n    }\n  },\n  computed: {\n    //计算总分\n    sumTotalScore () {\n      let score = 0\n      this.updateExamQuestion.forEach(item => {\n        score += parseInt(item.score)\n      })\n      this.examInfo.totalScore = score\n      return score\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.el-container {\n  width: 100%;\n  height: 100%;\n}\n\n.el-container {\n  animation: leftMoveIn .7s ease-in;\n}\n\n@keyframes leftMoveIn {\n  0% {\n    transform: translateX(-100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateX(0%);\n    opacity: 1;\n  }\n}\n\n\n/deep/ .el-table thead {\n  color: rgb(85, 85, 85) !important;\n}\n\n/*表格的头部样式*/\n/deep/ .has-gutter tr th {\n  background: rgb(242, 243, 244);\n  color: rgb(85, 85, 85);\n  font-weight: bold;\n  line-height: 32px;\n}\n\n.el-table {\n  box-shadow: 0 0 1px 1px gainsboro;\n}\n</style>\n"]}]}