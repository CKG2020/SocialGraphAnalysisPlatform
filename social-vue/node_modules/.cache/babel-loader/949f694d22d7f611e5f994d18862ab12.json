{"remainingRequest":"/home/ckg/A毕设/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/A毕设/exam-vue/src/store/modules/user.js","dependencies":[{"path":"/home/ckg/A毕设/exam-vue/src/store/modules/user.js","mtime":1649660687367},{"path":"/home/ckg/A毕设/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiB9IGZyb20gIkAvYXBpL2F1dGgiOwppbXBvcnQgeyBnZXRCb2FyZEluZm8gfSBmcm9tICJAL2FwaS9leGFtIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gIkAvdXRpbHMvdXRpbHMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vLi4vcm91dGVyIjsKaW1wb3J0IGRhIGZyb20gImVsZW1lbnQtdWkvc3JjL2xvY2FsZS9sYW5nL2RhIjsKdmFyIHN0YXRlID0gewogIHRva2VuOiBnZXRUb2tlbigpLAogIC8vIHRva2VuCiAgdXNlcjogIiIgLy8g55So5oi35a+56LGhCgp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9UT0tFTl9TVEFURTogZnVuY3Rpb24gU0VUX1RPS0VOX1NUQVRFKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIFNFVF9VU0VSX1NUQVRFOiBmdW5jdGlvbiBTRVRfVVNFUl9TVEFURShzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyDnlKjmiLfnmbvlvZUKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlckluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHZhciB1c2VyX2FjY291bnQgPSB1c2VySW5mby51c2VyX2FjY291bnQsCiAgICAgICAgdXNlcl9wd2QgPSB1c2VySW5mby51c2VyX3B3ZDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dpbih7CiAgICAgICAgdXNlcl9hY2NvdW50OiB1c2VyX2FjY291bnQsCiAgICAgICAgdXNlcl9wd2Q6IHVzZXJfcHdkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBzd2l0Y2ggKGRhdGEuY29kZSkgewogICAgICAgICAgY2FzZSA2NjY6CiAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn55So5oi355m76ZmG5oiQ5YqfXl9eJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbW1pdCgiU0VUX1RPS0VOX1NUQVRFIiwgZGF0YS5vYmoudG9rZW4pOwogICAgICAgICAgICBjb21taXQoIlNFVF9VU0VSX1NUQVRFIiwgdXNlcl9hY2NvdW50KTsKICAgICAgICAgICAgc2V0VG9rZW4oZGF0YS5vYmoudG9rZW4pOwogICAgICAgICAgICByb3V0ZXIucHVzaCgnL3VzZXJJbmRleCcpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExMToKICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfnrqHnkIblkZjnmbvpmYbmiJDlip9eX14nLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcm91dGVyLnB1c2goJy9hZG1pbkluZGV4Jyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5oiW6ICF5a+G56CB6ZSZ6K+vJywKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0gLy8g6I635Y+W55So5oi35L+h5oGvCiAgLy8gZ2V0Qm9hcmRJbmZvKHsgY29tbWl0IH0pIHsKICAvLyAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgLy8gICAgIGdldEJvYXJkSW5mbygpCiAgLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgLy8gICAgICAgICAvLyBjb25zdCBbIGRhdGEgXSA9IHJlc3BvbnNlOwogIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coInh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eCIrcmVzcG9uc2UuZGF0YS5vYmopCiAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygi56ys5LiA5qyhIisgcmVzcG9uc2UuKQogIC8vICAgICAgICAgLy8gaWYgKCFkYXRhKSB7CiAgLy8gICAgICAgICAvLyAgIGNvbW1pdCgiU0VUX1RPS0VOX1NUQVRFIiwgIiIpOwogIC8vICAgICAgICAgLy8gICBjb21taXQoIlNFVF9VU0VSX1NUQVRFIiwgIiIpOwogIC8vICAgICAgICAgLy8gICByZW1vdmVUb2tlbigpOwogIC8vICAgICAgICAgLy8gICByZXNvbHZlKCk7CiAgLy8gICAgICAgICAvLyAgIHJlamVjdCgiVmVyaWZpY2F0aW9uIGZhaWxlZCwgcGxlYXNlIExvZ2luIGFnYWluLiIpOwogIC8vICAgICAgICAgLy8gfQogIC8vICAgICAgICAgLy8gLy8gY29tbWl0KCJTRVRfVVNFUl9TVEFURSIsIGRhdGEub2JqKTsKICAvLyAgICAgICAgIC8vIHJlc29sdmUoZGF0YSk7CiAgLy8gICAgICAgICBWdWUucHJvdG90eXBlLiRub3RpZnkoewogIC8vICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogIC8vICAgICAgICAgICBtZXNzYWdlOiAn55So5oi355m76ZmG5oiQ5YqfXl9eJywKICAvLyAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogIC8vICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogIC8vICAgICAgICAgfSkKICAvLyAgICAgICB9KQogIC8vICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAvLyAgICAgICAgIHJlamVjdChlcnJvcik7CiAgLy8gICAgICAgfSk7CiAgLy8gICB9KTsKICAvLyB9LAogIC8vIOazqOmUgAogIC8vIGxvZ291dCh7IGNvbW1pdCwgc3RhdGUgfSkgewogIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAvLyAgICAgbG9nb3V0KHN0YXRlLnRva2VuKQogIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogIC8vICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogIC8vICAgICAgICAgY29tbWl0KCJTRVRfVE9LRU5fU1RBVEUiLCAiIik7CiAgLy8gICAgICAgICBjb21taXQoIlNFVF9VU0VSX1NUQVRFIiwgIiIpOwogIC8vICAgICAgICAgcmVtb3ZlVG9rZW4oKTsKICAvLyAgICAgICAgIHJlc29sdmUoKTsKICAvLyAgICAgICB9KQogIC8vICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAvLyAgICAgICAgIHJlamVjdChlcnJvcik7CiAgLy8gICAgICAgfSk7CiAgLy8gICB9KTsKICAvLyB9LAoKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["/home/ckg/A毕设/exam-vue/src/store/modules/user.js"],"names":["login","getBoardInfo","getToken","setToken","removeToken","Vue","router","da","state","token","user","mutations","SET_TOKEN_STATE","SET_USER_STATE","actions","userInfo","commit","user_account","user_pwd","Promise","resolve","reject","then","response","data","code","prototype","$notify","title","message","type","duration","obj","push","catch","error","namespaced"],"mappings":"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","sourcesContent":["import {  login   } from \"@/api/auth\";\nimport {getBoardInfo} from  \"@/api/exam\";\nimport { getToken, setToken, removeToken } from \"@/utils/utils\";\nimport Vue from 'vue'\nimport router from \"../../router\";\nimport da from \"element-ui/src/locale/lang/da\";\n\nconst state = {\n  token: getToken(), // token\n  user: \"\", // 用户对象\n};\n\nconst mutations = {\n  SET_TOKEN_STATE: (state, token) => {\n    state.token = token;\n  },\n  SET_USER_STATE: (state, user) => {\n    state.user = user;\n  },\n};\n\nconst actions = {\n  // 用户登录\n  login({ commit }, userInfo) {\n    const { user_account, user_pwd } = userInfo;\n    return new Promise((resolve, reject) => {\n      login({ user_account: user_account, user_pwd: user_pwd })\n        .then((response) => {\n\n          const { data } = response;\n          switch(data.code)\n          {\n            case 666:\n              Vue.prototype.$notify({\n                title: 'Tips',\n                message: '用户登陆成功^_^',\n                type: 'success',\n                duration: 2000\n              })\n              commit(\"SET_TOKEN_STATE\", data.obj.token);\n              commit(\"SET_USER_STATE\",user_account);\n              setToken(data.obj.token);\n              router.push('/userIndex')\n              break;\n            case 111:\n              Vue.prototype.$notify({\n                title: 'Tips',\n                message: '管理员登陆成功^_^',\n                type: 'success',\n                duration: 2000\n              })\n              router.push('/adminIndex')\n              break;\n            default:\n              Vue.prototype.$notify({\n                title: 'Tips',\n                message: '用户名或者密码错误',\n                type: 'error',\n                duration: 2000\n              })\n              router.push('/')\n          }\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n  // 获取用户信息\n  // getBoardInfo({ commit }) {\n  //   return new Promise((resolve, reject) => {\n  //     getBoardInfo()\n  //       .then((response) => {\n  //         // const [ data ] = response;\n  //         // console.log(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"+response.data.obj)\n  //         // console.log(\"第一次\"+ response.)\n  //         // if (!data) {\n  //         //   commit(\"SET_TOKEN_STATE\", \"\");\n  //         //   commit(\"SET_USER_STATE\", \"\");\n  //         //   removeToken();\n  //         //   resolve();\n  //         //   reject(\"Verification failed, please Login again.\");\n  //         // }\n  //         // // commit(\"SET_USER_STATE\", data.obj);\n  //         // resolve(data);\n  //         Vue.prototype.$notify({\n  //           title: 'Tips',\n  //           message: '用户登陆成功^_^',\n  //           type: 'success',\n  //           duration: 2000\n  //         })\n  //       })\n  //       .catch((error) => {\n  //         reject(error);\n  //       });\n  //   });\n  // },\n  // 注销\n  // logout({ commit, state }) {\n  //   return new Promise((resolve, reject) => {\n  //     logout(state.token)\n  //       .then((response) => {\n  //         console.log(response);\n  //         commit(\"SET_TOKEN_STATE\", \"\");\n  //         commit(\"SET_USER_STATE\", \"\");\n  //         removeToken();\n  //         resolve();\n  //       })\n  //       .catch((error) => {\n  //         reject(error);\n  //       });\n  //   });\n  // },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n};\n"]}]}