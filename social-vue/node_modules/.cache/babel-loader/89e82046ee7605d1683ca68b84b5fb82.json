{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/ExamManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/views/teacher/ExamManage.vue","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGV4YW0gZnJvbSAnQC9hcGkvZXhhbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXhhbU1hbmFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgICdleGFtVHlwZSc6IG51bGwsCiAgICAgICAgJ3N0YXJ0VGltZSc6IG51bGwsCiAgICAgICAgJ2VuZFRpbWUnOiBudWxsLAogICAgICAgICdleGFtTmFtZSc6IG51bGwsCiAgICAgICAgJ3BhZ2VObyc6IDAsCiAgICAgICAgJ3BhZ2VTaXplJzogMTAKICAgICAgfSwKICAgICAgLy/ooajmoLzmmK/lkKblnKjliqDovb0KICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy/ogIPor5Xnsbvlnovkv6Hmga8KICAgICAgZXhhbVR5cGU6IFt7CiAgICAgICAgaW5mbzogJ+WFrOW8gOiAg+ivlScsCiAgICAgICAgdHlwZTogMQogICAgICB9LCB7CiAgICAgICAgaW5mbzogJ+mcgOimgeWvhueggScsCiAgICAgICAgdHlwZTogMgogICAgICB9XSwKICAgICAgLy/ooqvpgInmi6nnmoTogIPor5XnmoTooYwKICAgICAgc2VsZWN0aW9uVGFibGU6IFtdLAogICAgICAvL+ihqOagvOWkmuihjOmAieS4reeahOaTjeS9nOS/oeaBrwogICAgICBvcGVyYXRpb246ICcnLAogICAgICAvL+aUr+aMgeaTjeS9nOeahOS/oeaBrwogICAgICBvcGVyYXRpb25JbmZvOiBbewogICAgICAgICdsYWJlbCc6ICflkK/nlKgnLAogICAgICAgICdkZXNjJzogJ29uJwogICAgICB9LCB7CiAgICAgICAgJ2xhYmVsJzogJ+emgeeUqCcsCiAgICAgICAgJ2Rlc2MnOiAnb2ZmJwogICAgICB9LCB7CiAgICAgICAgJ2xhYmVsJzogJ+WIoOmZpCcsCiAgICAgICAgJ2Rlc2MnOiAnZGVsZXRlJwogICAgICB9XSwKICAgICAgLy/ogIPor5Xkv6Hmga8KICAgICAgZXhhbUluZm86IFtdLAogICAgICAvL+afpeivouWIsOeahOiAg+ivleaAu+aVsAogICAgICB0b3RhbDogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEV4YW1JbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iAg+ivleexu+Wei+aQnOe0ogogICAgdHlwZUNoYW5nZTogZnVuY3Rpb24gdHlwZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8uZXhhbVR5cGUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0RXhhbUluZm8oKTsKICAgIH0sCiAgICAvL+aTjeS9nOWkmuihjOihqOagvOS/oeaBrwogICAgb3BlcmF0aW9uQ2hhbmdlOiBmdW5jdGlvbiBvcGVyYXRpb25DaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZXhhbUlkcyA9IFtdOwogICAgICB0aGlzLnNlbGVjdGlvblRhYmxlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBleGFtSWRzLnB1c2goaXRlbS5leGFtSWQpOwogICAgICB9KTsKCiAgICAgIGlmICh2YWwgPT09ICdvbicpIHsKICAgICAgICBleGFtLm9wZXJhdGlvbkV4YW0oMSwgewogICAgICAgICAgJ2lkcyc6IGV4YW1JZHMuam9pbignLCcpCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzLmdldEV4YW1JbmZvKCk7CgogICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAndHlwZSc6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAndGl0bGUnOiAnVGlwcycsCiAgICAgICAgICAgICAgJ21lc3NhZ2UnOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICAnZHVyYXRpb24nOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gJ29mZicpIHsKICAgICAgICBleGFtLm9wZXJhdGlvbkV4YW0oMiwgewogICAgICAgICAgJ2lkcyc6IGV4YW1JZHMuam9pbignLCcpCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzLmdldEV4YW1JbmZvKCk7CgogICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAndHlwZSc6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAndGl0bGUnOiAnVGlwcycsCiAgICAgICAgICAgICAgJ21lc3NhZ2UnOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICAnZHVyYXRpb24nOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gJ2RlbGV0ZScpIHsKICAgICAgICBleGFtLm9wZXJhdGlvbkV4YW0oMywgewogICAgICAgICAgJ2lkcyc6IGV4YW1JZHMuam9pbignLCcpCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzLmdldEV4YW1JbmZvKCk7CgogICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAndHlwZSc6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAndGl0bGUnOiAnVGlwcycsCiAgICAgICAgICAgICAgJ21lc3NhZ2UnOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICAnZHVyYXRpb24nOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/mn6Xor6LogIPor5Xkv6Hmga8KICAgIGdldEV4YW1JbmZvOiBmdW5jdGlvbiBnZXRFeGFtSW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBleGFtLmdldEV4YW1JbmZvKHRoaXMucXVlcnlJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICByZXNwLmRhdGEuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGl0ZW0uc3RhcnRUaW1lID0gU3RyaW5nKGl0ZW0uc3RhcnRUaW1lKS5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgICAgICBpdGVtLmVuZFRpbWUgPSBTdHJpbmcoaXRlbS5lbmRUaW1lKS5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczIuZXhhbUluZm8gPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WkhOeQhuihqOagvOiiq+mAieS4rQogICAgaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVUYWJsZVNlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uVGFibGUgPSB2YWw7CiAgICB9LAogICAgLy/liIbpobXpobXpnaLlpKflsI/mlLnlj5gKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmdldEV4YW1JbmZvKCk7CiAgICB9LAogICAgLy/liIbpobXmj5Lku7bnmoTpobXmlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VObyA9IHZhbDsKICAgICAgdGhpcy5nZXRFeGFtSW5mbygpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AAEA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACA,wBADA;AAEA,yBAFA;AAGA,uBAHA;AAIA,wBAJA;AAKA,mBALA;AAMA;AANA,OADA;AASA;AACAC,mBAVA;AAWA;AACAC,iBACA;AACAC,oBADA;AAEAC;AAFA,OADA,EAKA;AACAD,oBADA;AAEAC;AAFA,OALA,CAZA;AAsBA;AACAC,wBAvBA;AAwBA;AACAC,mBAzBA;AA0BA;AACAC,sBACA;AACA,qBADA;AAEA;AAFA,OADA,EAKA;AACA,qBADA;AAEA;AAFA,OALA,EASA;AACA,qBADA;AAEA;AAFA,OATA,CA3BA;AAyCA;AACAC,kBA1CA;AA2CA;AACAC;AA5CA;AA+CA,GAlDA;AAmDAC,SAnDA,qBAmDA;AACA;AACA,GArDA;AAsDAC;AACA;AACAC,cAFA,sBAEAC,GAFA,EAEA;AACA;AACA;AACA,KALA;AAMA;AACAC,mBAPA,2BAOAD,GAPA,EAOA;AAAA;;AACA;AACA;AACAE;AACA,OAFA;;AAGA;AACAC;AAAA;AAAA;AACA;AACA;;AACA;AACA,+BADA;AAEA,6BAFA;AAGA,+BAHA;AAIA;AAJA;AAMA;AACA,SAVA;AAWA,OAZA,MAYA;AACAA;AAAA;AAAA;AACA;AACA;;AACA;AACA,+BADA;AAEA,6BAFA;AAGA,+BAHA;AAIA;AAJA;AAMA;AACA,SAVA;AAWA,OAZA,MAYA;AACAA;AAAA;AAAA;AACA;AACA;;AACA;AACA,+BADA;AAEA,6BAFA;AAGA,+BAHA;AAIA;AAJA;AAMA;AACA,SAVA;AAWA;AACA,KAjDA;AAkDA;AACAC,eAnDA,yBAmDA;AAAA;;AACAD;AACA;AACAE;AACAC;AACAA;AACA,WAHA;AAIA;AACA;AACA;AACA;AACA,OAVA;AAWA,KA/DA;AAgEA;AACAC,4BAjEA,oCAiEAP,GAjEA,EAiEA;AACA;AACA,KAnEA;AAoEA;AACAQ,oBArEA,4BAqEAR,GArEA,EAqEA;AACA;AACA;AACA,KAxEA;AAyEA;AACAS,uBA1EA,+BA0EAT,GA1EA,EA0EA;AACA;AACA;AACA;AA7EA;AAtDA","names":["name","data","queryInfo","loading","examType","info","type","selectionTable","operation","operationInfo","examInfo","total","created","methods","typeChange","val","operationChange","examIds","exam","getExamInfo","resp","item","handleTableSectionChange","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/views/teacher","sources":["ExamManage.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"220\">\n      <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.examType\" placeholder=\"请选择考试类型\">\n        <el-option\n          v-for=\"item in examType\"\n          :key=\"item.type\"\n          :label=\"item.info\"\n          :value=\"item.type\">\n        </el-option>\n      </el-select>\n\n      <el-date-picker style=\"margin-left: 5px\"\n                      v-model=\"queryInfo.startTime\" @change=\"getExamInfo\"\n                      type=\"date\"\n                      placeholder=\"考试开始时间\">\n      </el-date-picker>\n\n      <el-date-picker style=\"margin-left: 5px\" @change=\"getExamInfo\"\n                      v-model=\"queryInfo.endTime\"\n                      type=\"date\"\n                      placeholder=\"考试结束时间\">\n      </el-date-picker>\n\n      <el-input v-model=\"queryInfo.examName\" placeholder=\"考试名称\" @blur=\"getExamInfo\"\n                style=\"margin-left: 5px;width: 220px\"\n                prefix-icon=\"el-icon-search\"></el-input>\n      <br>\n      <el-button type=\"primary\" icon=\"el-icon-plus\" style=\"margin-top: 10px\"\n                 @click=\"$router.push('/addExam')\">添加\n      </el-button>\n    </el-header>\n\n    <el-main>\n      <!--操作的下拉框-->\n      <el-select @change=\"operationChange\" clearable v-if=\"selectionTable.length !== 0\" v-model=\"operation\"\n                 :placeholder=\"'已选择' + selectionTable.length + '项'\" style=\"margin-bottom: 25px;\">\n        <el-option v-for=\"(item,index) in operationInfo\" :key=\"index\" :value=\"item.desc\">\n          <span style=\"float: left\">{{ item.label }}</span>\n          <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.desc }}</span>\n        </el-option>\n      </el-select>\n\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"examInfo\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;\" @selection-change=\"handleTableSectionChange\">\n\n        <el-table-column align=\"center\"\n                         type=\"selection\"\n                         width=\"55\">\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试名称\">\n          <template slot-scope=\"scope\">\n            <span style=\"cursor:pointer;color: rgb(24,144,255)\" @click=\"$router.push('/updateExam/'+ scope.row.examId)\">{{\n                scope.row.examName\n              }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试类型\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.type === 1 ? '完全公开' : '需要密码' }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试时间\">\n          <template slot-scope=\"scope\">\n            {{\n              scope.row.startTime !== 'null' && scope.row.endTime !== 'null' ?\n                scope.row.startTime + ' ~' + scope.row.endTime : '不限时'\n            }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" prop=\"totalScore\" label=\"考试总分\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"passScore\" label=\"及格分数\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"duration\" label=\"考试时长(分)\"></el-table-column>\n\n        <el-table-column align=\"center\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.status === 1 ? '启用' : '禁用' }}\n          </template>\n        </el-table-column>\n\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-main>\n\n  </el-container>\n\n</template>\n\n<script>\nimport exam from '@/api/exam'\n\nexport default {\n  name: 'ExamManage',\n  data () {\n    return {\n      queryInfo: {\n        'examType': null,\n        'startTime': null,\n        'endTime': null,\n        'examName': null,\n        'pageNo': 0,\n        'pageSize': 10\n      },\n      //表格是否在加载\n      loading: true,\n      //考试类型信息\n      examType: [\n        {\n          info: '公开考试',\n          type: 1\n        },\n        {\n          info: '需要密码',\n          type: 2\n        }\n      ],\n      //被选择的考试的行\n      selectionTable: [],\n      //表格多行选中的操作信息\n      operation: '',\n      //支持操作的信息\n      operationInfo: [\n        {\n          'label': '启用',\n          'desc': 'on'\n        },\n        {\n          'label': '禁用',\n          'desc': 'off'\n        },\n        {\n          'label': '删除',\n          'desc': 'delete'\n        }\n      ],\n      //考试信息\n      examInfo: [],\n      //查询到的考试总数\n      total: 0,\n\n    }\n  },\n  created () {\n    this.getExamInfo()\n  },\n  methods: {\n    //考试类型搜索\n    typeChange (val) {\n      this.queryInfo.examType = val\n      this.getExamInfo()\n    },\n    //操作多行表格信息\n    operationChange (val) {\n      let examIds = []\n      this.selectionTable.forEach(item => {\n        examIds.push(item.examId)\n      })\n      if (val === 'on') {\n        exam.operationExam(1, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      } else if (val === 'off') {\n        exam.operationExam(2, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      } else if (val === 'delete') {\n        exam.operationExam(3, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      }\n    },\n    //查询考试信息\n    getExamInfo () {\n      exam.getExamInfo(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          resp.data.data.forEach(item => {\n            item.startTime = String(item.startTime).substring(0, 10)\n            item.endTime = String(item.endTime).substring(0, 10)\n          })\n          this.examInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        }\n      })\n    },\n    //处理表格被选中\n    handleTableSectionChange (val) {\n      this.selectionTable = val\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getExamInfo()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getExamInfo()\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/examManage\";\n</style>\n"]}]}