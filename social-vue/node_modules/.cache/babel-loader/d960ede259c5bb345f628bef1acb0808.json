{"remainingRequest":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/store/modules/user.js","dependencies":[{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/store/modules/user.js","mtime":1649258298353},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0IHsgbG9naW4gYXMgX2xvZ2luIH0gZnJvbSAiQC9hcGkvYXV0aCI7CmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICJAL3V0aWxzL3V0aWxzIjsKdmFyIHN0YXRlID0gewogIHRva2VuOiBnZXRUb2tlbigpLAogIC8vIHRva2VuCiAgdXNlcjogIiIgLy8g55So5oi35a+56LGhCgp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9UT0tFTl9TVEFURTogZnVuY3Rpb24gU0VUX1RPS0VOX1NUQVRFKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIFNFVF9VU0VSX1NUQVRFOiBmdW5jdGlvbiBTRVRfVVNFUl9TVEFURShzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyDnlKjmiLfnmbvlvZUKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlckluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIGNvbnNvbGUubG9nKHVzZXJJbmZvKTsKICAgIHZhciB1c2VyX2FjY291bnQgPSB1c2VySW5mby51c2VyX2FjY291bnQsCiAgICAgICAgdXNlcl9wd2QgPSB1c2VySW5mby51c2VyX3B3ZDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dpbih7CiAgICAgICAgdXNlcl9hY2NvdW50OiB1c2VyX2FjY291bnQudHJpbSgpLAogICAgICAgIHVzZXJfcHdkOiB1c2VyX3B3ZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb21taXQoIlNFVF9UT0tFTl9TVEFURSIsIGRhdGEudG9rZW4pOwogICAgICAgIHNldFRva2VuKGRhdGEudG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9IC8vIOiOt+WPlueUqOaIt+S/oeaBrwogIC8vIGdldEluZm8oeyBjb21taXQsIHN0YXRlIH0pIHsKICAvLyAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgLy8gICAgIGdldFVzZXJJbmZvKCkKICAvLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAvLyAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7CiAgLy8gICAgICAgICBpZiAoIWRhdGEpIHsKICAvLyAgICAgICAgICAgY29tbWl0KCJTRVRfVE9LRU5fU1RBVEUiLCAiIik7CiAgLy8gICAgICAgICAgIGNvbW1pdCgiU0VUX1VTRVJfU1RBVEUiLCAiIik7CiAgLy8gICAgICAgICAgIHJlbW92ZVRva2VuKCk7CiAgLy8gICAgICAgICAgIHJlc29sdmUoKTsKICAvLyAgICAgICAgICAgcmVqZWN0KCJWZXJpZmljYXRpb24gZmFpbGVkLCBwbGVhc2UgTG9naW4gYWdhaW4uIik7CiAgLy8gICAgICAgICB9CiAgLy8gICAgICAgICBjb21taXQoIlNFVF9VU0VSX1NUQVRFIiwgZGF0YSk7CiAgLy8gICAgICAgICByZXNvbHZlKGRhdGEpOwogIC8vICAgICAgIH0pCiAgLy8gICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogIC8vICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAvLyAgICAgICB9KTsKICAvLyAgIH0pOwogIC8vIH0sCiAgLy8g5rOo6ZSACiAgLy8gbG9nb3V0KHsgY29tbWl0LCBzdGF0ZSB9KSB7CiAgLy8gICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIC8vICAgICBsb2dvdXQoc3RhdGUudG9rZW4pCiAgLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgLy8gICAgICAgICBjb21taXQoIlNFVF9UT0tFTl9TVEFURSIsICIiKTsKICAvLyAgICAgICAgIGNvbW1pdCgiU0VUX1VTRVJfU1RBVEUiLCAiIik7CiAgLy8gICAgICAgICByZW1vdmVUb2tlbigpOwogIC8vICAgICAgICAgcmVzb2x2ZSgpOwogIC8vICAgICAgIH0pCiAgLy8gICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogIC8vICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAvLyAgICAgICB9KTsKICAvLyAgIH0pOwogIC8vIH0sCgp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["/home/ckg/a2022download/学习前端/exam_system-master/exam-vue/src/store/modules/user.js"],"names":["login","getToken","setToken","removeToken","state","token","user","mutations","SET_TOKEN_STATE","SET_USER_STATE","actions","userInfo","commit","console","log","user_account","user_pwd","Promise","resolve","reject","trim","then","response","data","catch","error","namespaced"],"mappings":";;AAAA,SAAUA,KAAK,IAALA,MAAV,QAAuB,YAAvB;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,WAA7B,QAAgD,eAAhD;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAEJ,QAAQ,EADH;AACO;AACnBK,EAAAA,IAAI,EAAE,EAFM,CAEF;;AAFE,CAAd;AAKA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,eAAe,EAAE,yBAACJ,KAAD,EAAQC,KAAR,EAAkB;AACjCD,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACD,GAHe;AAIhBI,EAAAA,cAAc,EAAE,wBAACL,KAAD,EAAQE,IAAR,EAAiB;AAC/BF,IAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACD;AANe,CAAlB;AASA,IAAMI,OAAO,GAAG;AACd;AACAV,EAAAA,KAFc,uBAEIW,QAFJ,EAEc;AAAA,QAApBC,MAAoB,QAApBA,MAAoB;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,QAAQI,YAAR,GAAmCJ,QAAnC,CAAQI,YAAR;AAAA,QAAsBC,QAAtB,GAAmCL,QAAnC,CAAsBK,QAAtB;AACA,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCnB,MAAAA,MAAK,CAAC;AAAEe,QAAAA,YAAY,EAAEA,YAAY,CAACK,IAAb,EAAhB;AAAqCJ,QAAAA,QAAQ,EAAEA;AAA/C,OAAD,CAAL,CACGK,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,YAAQC,IAAR,GAAiBD,QAAjB,CAAQC,IAAR;AACAX,QAAAA,MAAM,CAAC,iBAAD,EAAoBW,IAAI,CAAClB,KAAzB,CAAN;AACAH,QAAAA,QAAQ,CAACqB,IAAI,CAAClB,KAAN,CAAR;AACAa,QAAAA,OAAO;AACR,OANH,EAOGM,KAPH,CAOS,UAACC,KAAD,EAAW;AAChBN,QAAAA,MAAM,CAACM,KAAD,CAAN;AACD,OATH;AAUD,KAXM,CAAP;AAYD,GAjBa,CAkBd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAtDc,CAAhB;AAyDA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbtB,EAAAA,KAAK,EAALA,KAFa;AAGbG,EAAAA,SAAS,EAATA,SAHa;AAIbG,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import {  login } from \"@/api/auth\";\nimport { getToken, setToken, removeToken } from \"@/utils/utils\";\n\nconst state = {\n  token: getToken(), // token\n  user: \"\", // 用户对象\n};\n\nconst mutations = {\n  SET_TOKEN_STATE: (state, token) => {\n    state.token = token;\n  },\n  SET_USER_STATE: (state, user) => {\n    state.user = user;\n  },\n};\n\nconst actions = {\n  // 用户登录\n  login({ commit }, userInfo) {\n    console.log(userInfo);\n    const { user_account, user_pwd } = userInfo;\n    return new Promise((resolve, reject) => {\n      login({ user_account: user_account.trim(), user_pwd: user_pwd })\n        .then((response) => {\n          const { data } = response;\n          commit(\"SET_TOKEN_STATE\", data.token);\n          setToken(data.token);\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  },\n  // 获取用户信息\n  // getInfo({ commit, state }) {\n  //   return new Promise((resolve, reject) => {\n  //     getUserInfo()\n  //       .then((response) => {\n  //         const { data } = response;\n  //         if (!data) {\n  //           commit(\"SET_TOKEN_STATE\", \"\");\n  //           commit(\"SET_USER_STATE\", \"\");\n  //           removeToken();\n  //           resolve();\n  //           reject(\"Verification failed, please Login again.\");\n  //         }\n  //         commit(\"SET_USER_STATE\", data);\n  //         resolve(data);\n  //       })\n  //       .catch((error) => {\n  //         reject(error);\n  //       });\n  //   });\n  // },\n  // 注销\n  // logout({ commit, state }) {\n  //   return new Promise((resolve, reject) => {\n  //     logout(state.token)\n  //       .then((response) => {\n  //         console.log(response);\n  //         commit(\"SET_TOKEN_STATE\", \"\");\n  //         commit(\"SET_USER_STATE\", \"\");\n  //         removeToken();\n  //         resolve();\n  //       })\n  //       .catch((error) => {\n  //         reject(error);\n  //       });\n  //   });\n  // },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n};\n"]}]}