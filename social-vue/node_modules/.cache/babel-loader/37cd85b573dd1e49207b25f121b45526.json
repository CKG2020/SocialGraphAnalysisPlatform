{"remainingRequest":"/home/ckg/A毕设/exam-vue/node_modules/babel-loader/lib/index.js!/home/ckg/A毕设/exam-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ckg/A毕设/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/A毕设/exam-vue/src/components/user/FriendDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/A毕设/exam-vue/src/components/user/FriendDetail.vue","mtime":1649839028453},{"path":"/home/ckg/A毕设/exam-vue/babel.config.js","mtime":1648737495000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGV4YW0gZnJvbSAiLi4vLi4vYXBpL2V4YW0iOwp2YXIgVXNlckluZm8gPSB7CiAgdXNlcl9hY2NvdW50OiAnJywKICBzbmFtZTogJycsCiAgcGhvbmU6ICcnLAogIGVtYWlsOiAnJywKICBjb2xsYWdlOiAnJywKICBtYWpvcjogJycsCiAgYmlydGg6ICcnCn07CnZhciBCb2FyZE1zZyA9IHsKICB1c2VyX2FjY291bnQ6ICcnLAogIGZyb21fbmFtZTogJycsCiAgZnJvbV9hY2NvdW50OiAnJywKICBib2FyZF90ZXh0OiAnJywKICBkYXRlX3RpbWU6ICcnCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRnJpZW5kRGV0YWlsIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybURhdGE6IE9iamVjdC5hc3NpZ24oe30sIFVzZXJJbmZvKSwKICAgICAgZm9ybTogewogICAgICAgIG1lc3NhZ2U6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0RnJvbSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdEZyb206IGZ1bmN0aW9uIGluaXRGcm9tKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmZyaWVuZF9hY2NvdW50KTsKICAgICAgZXhhbS5nZXRVc2VySW5mbyh0aGlzLiRyb3V0ZS5wYXJhbXMuZnJpZW5kX2FjY291bnQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpcy5mb3JtRGF0YSA9IHJlc3AuZGF0YS5vYmo7CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFuOiBmdW5jdGlvbiBjbGVhbigpIHsKICAgICAgdGhpcy5mb3JtLm1lc3NhZ2UgPSAnJzsKICAgIH0sCiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIEJvYXJkTXNnLmJvYXJkX3RleHQgPSB0aGlzLmZvcm0ubWVzc2FnZTsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICBCb2FyZE1zZy5kYXRlX3RpbWUgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgIEJvYXJkTXNnLnVzZXJfYWNjb3VudCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5mcmllbmRfYWNjb3VudDsKICAgICAgZXhhbS5hZGRCb2FyZE1zZyhCb2FyZE1zZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSA2NjYpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+eVmeiogOaIkOWKnyEnLAogICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfnlZnoqIDlpLHotKUhJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AAEA;AACAA,kBADA;AAEAC,WAFA;AAGAC,WAHA;AAIAC,WAJA;AAKAC,aALA;AAMAC,WANA;AAOAC;AAPA;AASA;AACAN,kBADA;AAEAO,eAFA;AAGAC,kBAHA;AAIAC,gBAJA;AAKAC;AALA;AAQA;AACAC,sBADA;AAGAC,MAHA,kBAGA;AACA;AACAC,2CADA;AAEAC;AAAAC;AAAA;AAFA;AAKA,GATA;AAUAC,SAVA,qBAUA;AACA;AACA,GAZA;AAaAC;AACAC,YADA,sBACA;AAAA;;AACAC;AACAC;AACA;AACA,OAFA;AAGA,KANA;AAOAC,SAPA,mBAOA;AACA;AACA,KATA;AAUAC,QAVA,kBAUA;AAAA;;AACAC;AACA;AACAA;AACAA;AACAH;AACA;AACA;AACAI,2BADA;AAEAT,4BAFA;AAGAU;AAHA;AAKA,SANA,MAMA;AACA;AACAV,4BADA;AAEAS;AAFA;;AAIA;AACA;AACA,OAdA;AAgBA;AA/BA;AAbA","names":["user_account","sname","phone","email","collage","major","birth","from_name","from_account","board_text","date_time","name","data","formData","form","message","created","methods","initFrom","console","exam","clean","send","BoardMsg","type","duration"],"sourceRoot":"src/components/user","sources":["FriendDetail.vue"],"sourcesContent":["<template>\n<div class=\"app-container\">\n  <el-row :gutter=\"20\">\n    <el-col :span=\"18\" :xs=\"20\">\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>好友信息</span>\n        </div>\n        <div>\n          <el-form ref=\"elForm\" :model=\"formData\"  size=\"medium\" label-width=\"80px\">\n            <el-form-item label=\"用户名\" prop=\"user_account\">\n              <el-input v-model=\"formData.user_account\"  readonly clearable\n                        prefix-icon='el-icon-user' :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"姓名\" prop=\"sname\">\n              <el-input v-model=\"formData.sname\"  readonly clearable :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"专业\" prop=\"major\">\n              <el-input v-model=\"formData.major\" readonly clearable :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"formData.email\"  readonly clearable :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"手机号码\" prop=\"phone\">\n              <el-input v-model=\"formData.phone\"  readonly  clearable :style=\"{width: '50%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"学校\" prop=\"collage\">\n              <el-input v-model=\"formData.collage\"  readonly clearable :style=\"{width: '50%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"生日\" prop=\"birth\">\n              <el-date-picker v-model=\"formData.birth\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\"\n                              readonly clearable    :style=\"{width: '50%'}\"  clearable></el-date-picker>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-col>\n  </el-row>\n <div>\n </div>\n\n    <el-col :span=\"18\" :xs=\"20\">\n      <el-card>\n        <div slot=\"header\" class=\"clearfix\">\n          <span>给好友留言</span>\n        </div>\n        <div class=\"text\">\n          <el-input\n            v-model=\"form.message\" @keyup.native.enter=\"send\"\n            type=\"textarea\" :rows=\"5\" placeholder=\"请输入内容，按 Enter 键发送\">\n          </el-input>\n          <div class=\"btn\">\n            <el-button @click=\"clean\" size=\"mini\" type=\"danger\">清空</el-button>\n            <el-button @click=\"send\" size=\"mini\" icon=\"el-icon-position\" type=\"success\">发送</el-button>\n          </div>\n        </div>\n      </el-card>\n    </el-col>\n</div>\n</template>\n\n<script>\n    import exam  from \"../../api/exam\";\n\n    const UserInfo = {\n                user_account: '',\n                sname: '',\n                phone:'',\n                email:'',\n                collage:'',\n                major:'',\n                birth:'',\n            };\n    const BoardMsg ={\n            user_account: '',\n           from_name:'',\n         from_account:'',\n        board_text:'',\n        date_time:''\n    }\n\n    export default {\n        name: \"FriendDetail\",\n\n        data() {\n            return {\n                formData: Object.assign({}, UserInfo),\n                form: {message: ''},\n\n            };\n        },\n        created() {\n            this.initFrom()\n        },\n        methods: {\n            initFrom() {\n                console.log(this.$route.params.friend_account)\n                exam.getUserInfo(this.$route.params.friend_account).then((resp) => {\n                    this.formData = resp.data.obj\n                })\n            },\n            clean() {\n                this.form.message = ''\n            },\n            send() {\n                BoardMsg.board_text = this.form.message;\n                var date = new Date();\n                BoardMsg.date_time = date.toLocaleString();\n                BoardMsg.user_account = this.$route.params.friend_account;\n                exam.addBoardMsg(BoardMsg).then(response => {\n                    if (response.data.code === 666) {\n                        this.$message({\n                            type: 'success',\n                            message: '留言成功!',\n                            duration: 1000\n                        });\n                    } else {\n                        this.$message({\n                            message: '留言失败!',\n                            type: 'warning'\n                        });\n                        return false;\n                    }\n                });\n\n            },\n\n\n        }\n\n    }\n\n</script>\n"]}]}