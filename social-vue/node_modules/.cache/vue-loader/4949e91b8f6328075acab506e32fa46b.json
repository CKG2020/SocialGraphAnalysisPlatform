{"remainingRequest":"/home/ckg/A毕设/exam-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/A毕设/exam-vue/src/components/user/FriendDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/A毕设/exam-vue/src/components/user/FriendDetail.vue","mtime":1649839028453},{"path":"/home/ckg/A毕设/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/A毕设/exam-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBleGFtICBmcm9tICIuLi8uLi9hcGkvZXhhbSI7Cgpjb25zdCBVc2VySW5mbyA9IHsKICAgICAgICAgICAgdXNlcl9hY2NvdW50OiAnJywKICAgICAgICAgICAgc25hbWU6ICcnLAogICAgICAgICAgICBwaG9uZTonJywKICAgICAgICAgICAgZW1haWw6JycsCiAgICAgICAgICAgIGNvbGxhZ2U6JycsCiAgICAgICAgICAgIG1ham9yOicnLAogICAgICAgICAgICBiaXJ0aDonJywKICAgICAgICB9Owpjb25zdCBCb2FyZE1zZyA9ewogICAgICAgIHVzZXJfYWNjb3VudDogJycsCiAgICAgICBmcm9tX25hbWU6JycsCiAgICAgZnJvbV9hY2NvdW50OicnLAogICAgYm9hcmRfdGV4dDonJywKICAgIGRhdGVfdGltZTonJwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRnJpZW5kRGV0YWlsIiwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZvcm1EYXRhOiBPYmplY3QuYXNzaWduKHt9LCBVc2VySW5mbyksCiAgICAgICAgICAgIGZvcm06IHttZXNzYWdlOiAnJ30sCgogICAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmluaXRGcm9tKCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdEZyb20oKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnBhcmFtcy5mcmllbmRfYWNjb3VudCkKICAgICAgICAgICAgZXhhbS5nZXRVc2VySW5mbyh0aGlzLiRyb3V0ZS5wYXJhbXMuZnJpZW5kX2FjY291bnQpLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybURhdGEgPSByZXNwLmRhdGEub2JqCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbGVhbigpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLm1lc3NhZ2UgPSAnJwogICAgICAgIH0sCiAgICAgICAgc2VuZCgpIHsKICAgICAgICAgICAgQm9hcmRNc2cuYm9hcmRfdGV4dCA9IHRoaXMuZm9ybS5tZXNzYWdlOwogICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIEJvYXJkTXNnLmRhdGVfdGltZSA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgQm9hcmRNc2cudXNlcl9hY2NvdW50ID0gdGhpcy4kcm91dGUucGFyYW1zLmZyaWVuZF9hY2NvdW50OwogICAgICAgICAgICBleGFtLmFkZEJvYXJkTXNnKEJvYXJkTXNnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDY2NikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnlZnoqIDmiJDlip8hJywKICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnlZnoqIDlpLHotKUhJywKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgfSwKCgogICAgfQoKfQoK"},{"version":3,"sources":["FriendDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA","file":"FriendDetail.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n<div class=\"app-container\">\n  <el-row :gutter=\"20\">\n    <el-col :span=\"18\" :xs=\"20\">\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>好友信息</span>\n        </div>\n        <div>\n          <el-form ref=\"elForm\" :model=\"formData\"  size=\"medium\" label-width=\"80px\">\n            <el-form-item label=\"用户名\" prop=\"user_account\">\n              <el-input v-model=\"formData.user_account\"  readonly clearable\n                        prefix-icon='el-icon-user' :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"姓名\" prop=\"sname\">\n              <el-input v-model=\"formData.sname\"  readonly clearable :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"专业\" prop=\"major\">\n              <el-input v-model=\"formData.major\" readonly clearable :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"formData.email\"  readonly clearable :style=\"{width: '50%'}\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"手机号码\" prop=\"phone\">\n              <el-input v-model=\"formData.phone\"  readonly  clearable :style=\"{width: '50%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"学校\" prop=\"collage\">\n              <el-input v-model=\"formData.collage\"  readonly clearable :style=\"{width: '50%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"生日\" prop=\"birth\">\n              <el-date-picker v-model=\"formData.birth\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\"\n                              readonly clearable    :style=\"{width: '50%'}\"  clearable></el-date-picker>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-col>\n  </el-row>\n <div>\n </div>\n\n    <el-col :span=\"18\" :xs=\"20\">\n      <el-card>\n        <div slot=\"header\" class=\"clearfix\">\n          <span>给好友留言</span>\n        </div>\n        <div class=\"text\">\n          <el-input\n            v-model=\"form.message\" @keyup.native.enter=\"send\"\n            type=\"textarea\" :rows=\"5\" placeholder=\"请输入内容，按 Enter 键发送\">\n          </el-input>\n          <div class=\"btn\">\n            <el-button @click=\"clean\" size=\"mini\" type=\"danger\">清空</el-button>\n            <el-button @click=\"send\" size=\"mini\" icon=\"el-icon-position\" type=\"success\">发送</el-button>\n          </div>\n        </div>\n      </el-card>\n    </el-col>\n</div>\n</template>\n\n<script>\n    import exam  from \"../../api/exam\";\n\n    const UserInfo = {\n                user_account: '',\n                sname: '',\n                phone:'',\n                email:'',\n                collage:'',\n                major:'',\n                birth:'',\n            };\n    const BoardMsg ={\n            user_account: '',\n           from_name:'',\n         from_account:'',\n        board_text:'',\n        date_time:''\n    }\n\n    export default {\n        name: \"FriendDetail\",\n\n        data() {\n            return {\n                formData: Object.assign({}, UserInfo),\n                form: {message: ''},\n\n            };\n        },\n        created() {\n            this.initFrom()\n        },\n        methods: {\n            initFrom() {\n                console.log(this.$route.params.friend_account)\n                exam.getUserInfo(this.$route.params.friend_account).then((resp) => {\n                    this.formData = resp.data.obj\n                })\n            },\n            clean() {\n                this.form.message = ''\n            },\n            send() {\n                BoardMsg.board_text = this.form.message;\n                var date = new Date();\n                BoardMsg.date_time = date.toLocaleString();\n                BoardMsg.user_account = this.$route.params.friend_account;\n                exam.addBoardMsg(BoardMsg).then(response => {\n                    if (response.data.code === 666) {\n                        this.$message({\n                            type: 'success',\n                            message: '留言成功!',\n                            duration: 1000\n                        });\n                    } else {\n                        this.$message({\n                            message: '留言失败!',\n                            type: 'warning'\n                        });\n                        return false;\n                    }\n                });\n\n            },\n\n\n        }\n\n    }\n\n</script>\n"]}]}